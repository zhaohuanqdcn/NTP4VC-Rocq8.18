theory maximum_subarray_Algo3_maximum_subarray_recqtvc
  imports "NTP4Verif.NTP4Verif" "Why3STD.Ref_Ref" "Why3STD.int_Sum" "./maximum_subarray_Spec"
begin
theorem maximum_subarray_rec'vc:
  fixes l :: "int"
  fixes h :: "int"
  fixes a :: "int list"
  assumes fact0: "(0 :: int) \<le> l"
  assumes fact1: "l \<le> h"
  assumes fact2: "h \<le> int (length a)"
  shows "if h = l then ((l \<le> l \<and> l \<le> h \<and> h \<le> h) \<and> (0 :: int) = sum_list (drop (nat l) (take (nat h - nat l) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> (0 :: int)) else \<not>(2 :: int) = (0 :: int) \<and> (let mid :: int = l + (h - l) cdiv (2 :: int); o1 :: int = mid - (1 :: int) in (l - (1 :: int) \<le> o1 \<longrightarrow> (((l \<le> mid \<and> mid \<le> mid) \<and> (0 :: int) = sum_list (drop (nat mid) (take (nat mid - nat mid) a))) \<and> (\<forall>(l' :: int). o1 < l' \<and> l' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat mid - nat l') a)) \<le> (0 :: int)) \<and> (0 :: int) = sum_list (drop (nat (o1 + (1 :: int))) (take (nat mid - nat (o1 + (1 :: int))) a))) \<and> (\<forall>(s :: int) (ms :: int) (lo :: int). (\<forall>(i :: int). (i \<le> o1 \<and> l \<le> i) \<and> ((l \<le> lo \<and> lo \<le> mid) \<and> ms = sum_list (drop (nat lo) (take (nat mid - nat lo) a))) \<and> (\<forall>(l' :: int). i < l' \<and> l' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat mid - nat l') a)) \<le> ms) \<and> s = sum_list (drop (nat (i + (1 :: int))) (take (nat mid - nat (i + (1 :: int))) a)) \<longrightarrow> ((0 :: int) \<le> i \<and> i < int (length a)) \<and> (if ms < s + a ! nat i then ((l \<le> i \<and> i \<le> mid) \<and> s + a ! nat i = sum_list (drop (nat i) (take (nat mid - nat i) a))) \<and> (\<forall>(l' :: int). i - (1 :: int) < l' \<and> l' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat mid - nat l') a)) \<le> s + a ! nat i) \<and> s + a ! nat i = sum_list (drop (nat (i - (1 :: int) + (1 :: int))) (take (nat mid - nat (i - (1 :: int) + (1 :: int))) a)) else ((l \<le> lo \<and> lo \<le> mid) \<and> ms = sum_list (drop (nat lo) (take (nat mid - nat lo) a))) \<and> (\<forall>(l' :: int). i - (1 :: int) < l' \<and> l' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat mid - nat l') a)) \<le> ms) \<and> s + a ! nat i = sum_list (drop (nat (i - (1 :: int) + (1 :: int))) (take (nat mid - nat (i - (1 :: int) + (1 :: int))) a)))) \<and> (((l \<le> lo \<and> lo \<le> mid) \<and> ms = sum_list (drop (nat lo) (take (nat mid - nat lo) a))) \<and> (\<forall>(l' :: int). l - (1 :: int) < l' \<and> l' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat mid - nat l') a)) \<le> ms) \<and> s = sum_list (drop (nat (l - (1 :: int) + (1 :: int))) (take (nat mid - nat (l - (1 :: int) + (1 :: int))) a)) \<longrightarrow> (let o2 :: int = h - (1 :: int) in (mid \<le> o2 + (1 :: int) \<longrightarrow> (((l \<le> lo \<and> lo \<le> mid \<and> mid \<le> mid \<and> mid \<le> h) \<and> ms = sum_list (drop (nat lo) (take (nat mid - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms) \<and> ms = sum_list (drop (nat lo) (take (nat mid - nat lo) a))) \<and> (\<forall>(s1 :: int) (ms1 :: int) (hi :: int). (\<forall>(i :: int). (mid \<le> i \<and> i \<le> o2) \<and> ((l \<le> lo \<and> lo \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms1 = sum_list (drop (nat lo) (take (nat hi - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> i \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms1) \<and> s1 = sum_list (drop (nat lo) (take (nat i - nat lo) a)) \<longrightarrow> ((0 :: int) \<le> i \<and> i < int (length a)) \<and> (if ms1 < s1 + a ! nat i then ((l \<le> lo \<and> lo \<le> mid \<and> mid \<le> i + (1 :: int) \<and> i + (1 :: int) \<le> h) \<and> s1 + a ! nat i = sum_list (drop (nat lo) (take (nat (i + (1 :: int)) - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> i + (1 :: int) \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> s1 + a ! nat i) \<and> s1 + a ! nat i = sum_list (drop (nat lo) (take (nat (i + (1 :: int)) - nat lo) a)) else ((l \<le> lo \<and> lo \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms1 = sum_list (drop (nat lo) (take (nat hi - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> i + (1 :: int) \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms1) \<and> s1 + a ! nat i = sum_list (drop (nat lo) (take (nat (i + (1 :: int)) - nat lo) a)))) \<and> (((l \<le> lo \<and> lo \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms1 = sum_list (drop (nat lo) (take (nat hi - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> o2 + (1 :: int) \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms1) \<and> s1 = sum_list (drop (nat lo) (take (nat (o2 + (1 :: int)) - nat lo) a)) \<longrightarrow> (((0 :: int) \<le> h - l \<and> mid - l < h - l) \<and> (0 :: int) \<le> l \<and> l \<le> mid \<and> mid \<le> int (length a)) \<and> (\<forall>(hi' :: int) (lo' :: int). (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> mid) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))) \<longrightarrow> (if ms1 < sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) then let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))))) else let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if ms1 < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else ((l \<le> lo \<and> lo \<le> hi \<and> hi \<le> h) \<and> ms1 = sum_list (drop (nat lo) (take (nat hi - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms1)))))))) \<and> (o2 + (1 :: int) < mid \<longrightarrow> (((0 :: int) \<le> h - l \<and> mid - l < h - l) \<and> (0 :: int) \<le> l \<and> l \<le> mid \<and> mid \<le> int (length a)) \<and> (\<forall>(hi' :: int) (lo' :: int). (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> mid) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))) \<longrightarrow> (if ms < sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) then let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))))) else let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if ms < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else ((l \<le> lo \<and> lo \<le> mid \<and> mid \<le> h) \<and> ms = sum_list (drop (nat lo) (take (nat mid - nat lo) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms)))))))))) \<and> (o1 < l - (1 :: int) \<longrightarrow> (let o2 :: int = h - (1 :: int) in (mid \<le> o2 + (1 :: int) \<longrightarrow> (((l \<le> mid \<and> mid \<le> mid \<and> mid \<le> mid \<and> mid \<le> h) \<and> (0 :: int) = sum_list (drop (nat mid) (take (nat mid - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> (0 :: int)) \<and> (0 :: int) = sum_list (drop (nat mid) (take (nat mid - nat mid) a))) \<and> (\<forall>(s :: int) (ms :: int) (hi :: int). (\<forall>(i :: int). (mid \<le> i \<and> i \<le> o2) \<and> ((l \<le> mid \<and> mid \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms = sum_list (drop (nat mid) (take (nat hi - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> i \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms) \<and> s = sum_list (drop (nat mid) (take (nat i - nat mid) a)) \<longrightarrow> ((0 :: int) \<le> i \<and> i < int (length a)) \<and> (if ms < s + a ! nat i then ((l \<le> mid \<and> mid \<le> mid \<and> mid \<le> i + (1 :: int) \<and> i + (1 :: int) \<le> h) \<and> s + a ! nat i = sum_list (drop (nat mid) (take (nat (i + (1 :: int)) - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> i + (1 :: int) \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> s + a ! nat i) \<and> s + a ! nat i = sum_list (drop (nat mid) (take (nat (i + (1 :: int)) - nat mid) a)) else ((l \<le> mid \<and> mid \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms = sum_list (drop (nat mid) (take (nat hi - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> i + (1 :: int) \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms) \<and> s + a ! nat i = sum_list (drop (nat mid) (take (nat (i + (1 :: int)) - nat mid) a)))) \<and> (((l \<le> mid \<and> mid \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms = sum_list (drop (nat mid) (take (nat hi - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> mid \<and> mid \<le> h' \<and> h' \<le> o2 + (1 :: int) \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms) \<and> s = sum_list (drop (nat mid) (take (nat (o2 + (1 :: int)) - nat mid) a)) \<longrightarrow> (((0 :: int) \<le> h - l \<and> mid - l < h - l) \<and> (0 :: int) \<le> l \<and> l \<le> mid \<and> mid \<le> int (length a)) \<and> (\<forall>(hi' :: int) (lo' :: int). (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> mid) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))) \<longrightarrow> (if ms < sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) then let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))))) else let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if ms < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else ((l \<le> mid \<and> mid \<le> hi \<and> hi \<le> h) \<and> ms = sum_list (drop (nat mid) (take (nat hi - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> ms)))))))) \<and> (o2 + (1 :: int) < mid \<longrightarrow> (((0 :: int) \<le> h - l \<and> mid - l < h - l) \<and> (0 :: int) \<le> l \<and> l \<le> mid \<and> mid \<le> int (length a)) \<and> (\<forall>(hi' :: int) (lo' :: int). (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> mid) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> mid \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))) \<longrightarrow> (if (0 :: int) < sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) then let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if sum_list (drop (nat lo') (take (nat hi' - nat lo') a)) < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else (l \<le> lo' \<and> lo' \<le> hi' \<and> hi' \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo') (take (nat hi' - nat lo') a))))) else let o3 :: int = mid + (1 :: int) in (((0 :: int) \<le> h - l \<and> h - o3 < h - l) \<and> (0 :: int) \<le> o3 \<and> o3 \<le> h \<and> h \<le> int (length a)) \<and> (\<forall>(hi'1 :: int) (lo'1 :: int). (o3 \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). o3 \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) \<longrightarrow> (if (0 :: int) < sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a)) then (l \<le> lo'1 \<and> lo'1 \<le> hi'1 \<and> hi'1 \<le> h) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> sum_list (drop (nat lo'1) (take (nat hi'1 - nat lo'1) a))) else ((l \<le> mid \<and> mid \<le> mid \<and> mid \<le> h) \<and> (0 :: int) = sum_list (drop (nat mid) (take (nat mid - nat mid) a))) \<and> (\<forall>(l' :: int) (h' :: int). l \<le> l' \<and> l' \<le> h' \<and> h' \<le> h \<longrightarrow> sum_list (drop (nat l') (take (nat h' - nat l') a)) \<le> (0 :: int))))))))))"
  sorry
end
