theory mpz_getset_Set_wmpz_get_uiqtvc
  imports "NTP4Verif.NTP4Verif" "Why3STD.Ref_Ref" "Why3STD.map_Const" "Why3STD.map_MapEq" "../../lib/isabelle/lemmas_Lemmas" "mach.int_Unsigned" "mach.c_C" "../../lib/isabelle/types_Config" "../../lib/isabelle/types_Types" "../../lib/isabelle/types_Int32Eq" "../../lib/isabelle/types_UInt64Eq" "../../lib/isabelle/mpz_Z" "../../lib/isabelle/mpz_Zutil"
begin
theorem wmpz_get_ui'vc:
  fixes mpz :: "mpz_memo"
  fixes src :: "mpz_ptr"
  assumes fact0: "readers mpz src = (0 :: int)"
  shows "-(2 :: int) < readers mpz src"
  and "\<forall>(o1 :: 32 word). sint o1 = sgn mpz src * abs_size mpz src \<longrightarrow> (sint o1 = (0 :: int) \<longrightarrow> o1 = (0 :: 32 word)) \<longrightarrow> (if o1 = (0 :: 32 word) then (0 :: int) = abs (value_of src mpz) emod ((18446744073709551615 :: int) + (1 :: int)) \<and> (\<forall>(x :: mpz_ptr). mpz_unchanged x mpz mpz) \<and> readers mpz src = (0 :: int) else (0 :: int) \<le> readers mpz src \<and> (\<forall>(mpz1 :: mpz_memo). abs_value_of mpz1 = abs_value_of mpz \<and> alloc mpz1 = alloc mpz \<and> abs_size mpz1 = abs_size mpz \<and> sgn mpz1 = sgn mpz \<and> zones mpz1 = zones mpz \<longrightarrow> (\<forall>(srcp :: 64 word ptr). readers mpz1 src = readers mpz src + (1 :: int) \<and> (\<forall>(y :: mpz_ptr). \<not>src = y \<longrightarrow> readers mpz1 y = readers mpz y) \<and> value srcp (abs_size mpz1 src) = abs_value_of mpz1 src \<and> plength srcp = alloc mpz1 src \<and> offset srcp = (0 :: int) \<and> c_C.min srcp = (0 :: int) \<and> c_C.max srcp = plength srcp \<and> zone1 srcp = zones mpz1 src \<longrightarrow> (c_C.min srcp \<le> offset srcp \<and> offset srcp < c_C.max srcp) \<and> (zones mpz1 src = zone1 srcp \<and> (1 :: int) \<le> readers mpz1 src \<and> c_C.min srcp = (0 :: int) \<and> c_C.max srcp = plength srcp) \<and> (\<forall>(mpz2 :: mpz_memo). abs_value_of mpz2 = abs_value_of mpz1 \<and> alloc mpz2 = alloc mpz1 \<and> abs_size mpz2 = abs_size mpz1 \<and> sgn mpz2 = sgn mpz1 \<and> zones mpz2 = zones mpz1 \<longrightarrow> readers mpz2 src = readers mpz1 src - (1 :: int) \<and> (\<forall>(y :: mpz_ptr). \<not>y = src \<longrightarrow> readers mpz2 y = readers mpz1 y) \<longrightarrow> uint (pelts srcp (offset srcp)) = abs (value_of src mpz2) emod ((18446744073709551615 :: int) + (1 :: int)) \<and> (\<forall>(x :: mpz_ptr). mpz_unchanged x mpz2 mpz) \<and> readers mpz2 src = (0 :: int)))))"
  sorry
end
