theory array_most_frequent_Top_most_frequentqtvc
  imports "NTP4Verif.NTP4Verif" "Why3STD.Ref_Ref" "Why3STD.int_NumOf"
begin
consts fc :: "'a list \<Rightarrow> 'a \<Rightarrow> int \<Rightarrow> bool"
axiomatization where fc'def:   "fc a v i = True \<longleftrightarrow> a ! nat i = v"
  for a :: "'a list"
  and v :: "'a"
  and i :: "int"
theorem most_frequent'vc:
  fixes a :: "int list"
  assumes fact0: "(0 :: int) < int (length a)"
  assumes fact1: "\<forall>(i :: int) (j :: int). (0 :: int) \<le> i \<and> i \<le> j \<and> j < int (length a) \<longrightarrow> a ! nat i \<le> a ! nat j"
  shows "(0 :: int) \<le> (0 :: int)"
  and "(0 :: int) < int (length a)"
  and "let o1 :: int = a ! (0 :: nat); o2 :: int = int (length a) - (1 :: int) in ((1 :: int) \<le> o2 + (1 :: int) \<longrightarrow> ((1 :: int) = int (count_list (drop (0 :: nat) (take ((1 :: nat) - (0 :: nat)) a)) (a ! nat ((1 :: int) - (1 :: int)))) \<and> (1 :: int) = int (count_list (drop (0 :: nat) (take ((1 :: nat) - (0 :: nat)) a)) o1) \<and> (\<forall>(x :: int). int (count_list (drop (0 :: nat) (take ((1 :: nat) - (0 :: nat)) a)) x) \<le> (1 :: int))) \<and> (\<forall>(m :: int) (c :: int) (r :: int). (\<forall>(i :: int). ((1 :: int) \<le> i \<and> i \<le> o2) \<and> c = int (count_list (drop (0 :: nat) (take (nat i - (0 :: nat)) a)) (a ! nat (i - (1 :: int)))) \<and> m = int (count_list (drop (0 :: nat) (take (nat i - (0 :: nat)) a)) r) \<and> (\<forall>(x :: int). int (count_list (drop (0 :: nat) (take (nat i - (0 :: nat)) a)) x) \<le> m) \<longrightarrow> (let o3 :: int = i - (1 :: int) in ((0 :: int) \<le> o3 \<and> o3 < int (length a)) \<and> ((0 :: int) \<le> i \<and> i < int (length a)) \<and> (if a ! nat i = a ! nat o3 then if m < c + (1 :: int) then ((0 :: int) \<le> i \<and> i < int (length a)) \<and> c + (1 :: int) = int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) (a ! nat (i + (1 :: int) - (1 :: int)))) \<and> c + (1 :: int) = int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) (a ! nat i)) \<and> (\<forall>(x :: int). int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) x) \<le> c + (1 :: int)) else c + (1 :: int) = int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) (a ! nat (i + (1 :: int) - (1 :: int)))) \<and> m = int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) r) \<and> (\<forall>(x :: int). int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) x) \<le> m) else (1 :: int) = int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) (a ! nat (i + (1 :: int) - (1 :: int)))) \<and> m = int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) r) \<and> (\<forall>(x :: int). int (count_list (drop (0 :: nat) (take (nat (i + (1 :: int)) - (0 :: nat)) a)) x) \<le> m)))) \<and> (c = int (count_list (drop (0 :: nat) (take (nat (o2 + (1 :: int)) - (0 :: nat)) a)) (a ! nat (o2 + (1 :: int) - (1 :: int)))) \<and> m = int (count_list (drop (0 :: nat) (take (nat (o2 + (1 :: int)) - (0 :: nat)) a)) r) \<and> (\<forall>(x :: int). int (count_list (drop (0 :: nat) (take (nat (o2 + (1 :: int)) - (0 :: nat)) a)) x) \<le> m) \<longrightarrow> (0 :: int) < int (count_list (drop (0 :: nat) (take (length a - (0 :: nat)) a)) r) \<and> (\<forall>(x :: int). count_list (drop (0 :: nat) (take (length a - (0 :: nat)) a)) x \<le> count_list (drop (0 :: nat) (take (length a - (0 :: nat)) a)) r)))) \<and> (o2 + (1 :: int) < (1 :: int) \<longrightarrow> (0 :: int) < int (count_list (drop (0 :: nat) (take (length a - (0 :: nat)) a)) o1) \<and> (\<forall>(x :: int). count_list (drop (0 :: nat) (take (length a - (0 :: nat)) a)) x \<le> count_list (drop (0 :: nat) (take (length a - (0 :: nat)) a)) o1))"
  sorry
end
