theory verifythis_PrefixSumRec_PrefixSumRec_benchqtvc
  imports "NTP4Verif.NTP4Verif" "Why3STD.int_Sum"
begin
definition is_power_of_2 :: "int \<Rightarrow> _"
  where "is_power_of_2 x \<longleftrightarrow> (\<exists>(k :: int). (0 :: int) \<le> k \<and> x = (2 :: int) ^\<^sub>i k)" for x
definition go_left :: "int \<Rightarrow> int \<Rightarrow> int"
  where "go_left left1 right1 = (let space :: int = right1 - left1 in left1 - space cdiv (2 :: int))" for left1 right1
definition go_right :: "int \<Rightarrow> int \<Rightarrow> int"
  where "go_right left1 right1 = (let space :: int = right1 - left1 in right1 - space cdiv (2 :: int))" for left1 right1
inductive phase1 :: "int \<Rightarrow> int \<Rightarrow> int list \<Rightarrow> int list \<Rightarrow> bool" where
   Leaf: "right1 = left1 + (1 :: int) \<Longrightarrow> a ! nat left1 = a0 ! nat left1 \<Longrightarrow> phase1 left1 right1 a0 a" for right1 :: "int" and left1 :: "int" and a :: "int list" and a0 :: "int list"
 | Node: "left1 + (1 :: int) < right1 \<Longrightarrow> phase1 (go_left left1 right1) left1 a0 a \<Longrightarrow> phase1 (go_right left1 right1) right1 a0 a \<Longrightarrow> a ! nat left1 = sum_list (drop (nat (left1 - (right1 - left1) + (1 :: int))) (take (nat (left1 + (1 :: int)) - nat (left1 - (right1 - left1) + (1 :: int))) a0)) \<Longrightarrow> phase1 left1 right1 a0 a" for left1 :: "int" and right1 :: "int" and a0 :: "int list" and a :: "int list"
definition partial_sum :: "int \<Rightarrow> int \<Rightarrow> int list \<Rightarrow> int list \<Rightarrow> _"
  where "partial_sum left1 right1 a0 a \<longleftrightarrow> (\<forall>(i :: int). left1 - (right1 - left1) < i \<and> i \<le> right1 \<longrightarrow> a ! nat i = sum_list (drop (0 :: nat) (take (nat i - (0 :: nat)) a0)))" for left1 right1 a0 a
theorem bench'vc:
  shows "(0 :: int) \<le> (8 :: int)"
  and "\<forall>(a :: int list). (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < (8 :: int) \<longrightarrow> a ! nat i = (0 :: int)) \<and> int (length a) = (8 :: int) \<longrightarrow> ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) < int (length a)) \<and> (length (a[nat (0 :: int) := 3 :: int]) = length a \<longrightarrow> nth (a[nat (0 :: int) := 3 :: int]) o nat = (nth a o nat)(0 :: int := 3 :: int) \<longrightarrow> ((0 :: int) \<le> (1 :: int) \<and> (1 :: int) < int (length (a[nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (0 :: int) := 3 :: int]) o nat)(1 :: int := 1 :: int) \<longrightarrow> ((0 :: int) \<le> (2 :: int) \<and> (2 :: int) < int (length (a[nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat)(2 :: int := 7 :: int) \<longrightarrow> ((0 :: int) \<le> (3 :: int) \<and> (3 :: int) < int (length (a[nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat)(3 :: int := 0 :: int) \<longrightarrow> ((0 :: int) \<le> (4 :: int) \<and> (4 :: int) < int (length (a[nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat)(4 :: int := 4 :: int) \<longrightarrow> ((0 :: int) \<le> (5 :: int) \<and> (5 :: int) < int (length (a[nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat)(5 :: int := 1 :: int) \<longrightarrow> ((0 :: int) \<le> (6 :: int) \<and> (6 :: int) < int (length (a[nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat)(6 :: int := 6 :: int) \<longrightarrow> ((0 :: int) \<le> (7 :: int) \<and> (7 :: int) < int (length (a[nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]))) \<and> (length (a[nat (7 :: int) := 3 :: int, nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) = length (a[nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> nth (a[nat (7 :: int) := 3 :: int, nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat = (nth (a[nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) o nat)(7 :: int := 3 :: int) \<longrightarrow> ((2 :: int) \<le> int (length (a[nat (7 :: int) := 3 :: int, nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int])) \<and> is_power_of_2 (int (length (a[nat (7 :: int) := 3 :: int, nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int])))) \<and> (\<forall>(a1 :: int list). length a1 = length (a[nat (7 :: int) := 3 :: int, nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int]) \<longrightarrow> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < int (length a1) \<longrightarrow> a1 ! nat i = sum_list (drop (0 :: nat) (take (nat i - (0 :: nat)) (a[nat (7 :: int) := 3 :: int, nat (6 :: int) := 6 :: int, nat (5 :: int) := 1 :: int, nat (4 :: int) := 4 :: int, nat (3 :: int) := 0 :: int, nat (2 :: int) := 7 :: int, nat (1 :: int) := 1 :: int, nat (0 :: int) := 3 :: int])))) \<longrightarrow> ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) < int (length a1)) \<and> (a1 ! (0 :: nat) = (0 :: int) \<longrightarrow> ((0 :: int) \<le> (1 :: int) \<and> (1 :: int) < int (length a1)) \<and> (a1 ! (1 :: nat) = (3 :: int) \<longrightarrow> ((0 :: int) \<le> (2 :: int) \<and> (2 :: int) < int (length a1)) \<and> (a1 ! (2 :: nat) = (4 :: int) \<longrightarrow> ((0 :: int) \<le> (3 :: int) \<and> (3 :: int) < int (length a1)) \<and> (a1 ! (3 :: nat) = (11 :: int) \<longrightarrow> ((0 :: int) \<le> (4 :: int) \<and> (4 :: int) < int (length a1)) \<and> (a1 ! (4 :: nat) = (11 :: int) \<longrightarrow> ((0 :: int) \<le> (5 :: int) \<and> (5 :: int) < int (length a1)) \<and> (a1 ! (5 :: nat) = (15 :: int) \<longrightarrow> ((0 :: int) \<le> (6 :: int) \<and> (6 :: int) < int (length a1)) \<and> (a1 ! (6 :: nat) = (16 :: int) \<longrightarrow> (0 :: int) \<le> (7 :: int) \<and> (7 :: int) < int (length a1)))))))))))))))))"
  sorry
end
