import Why3.Base
import Why3.why3.Ref.Ref
import Why3.map.MapEq
import Why3.map.MapExchange
import Why3.map.MapPermut
import Why3.map.MapInjection
import pearl.verifythis_fm2012_LRS_vcg.lean.verifythis_fm2012_LRS.LCP
import pearl.verifythis_fm2012_LRS_vcg.lean.verifythis_fm2012_LRS.SuffixSort
import pearl.verifythis_fm2012_LRS_vcg.lean.verifythis_fm2012_LRS.SuffixArray
open Classical
open Lean4Why3
namespace verifythis_fm2012_LRS_LRS_lrsqtvc
theorem lrs'vc (a : List ℤ) (sa : SuffixArray.suffixArray) (fact0 : (0 : ℤ) < Int.ofNat (List.length a)) (fact1 : SuffixArray.values sa = a) : let o1 : ℤ := Int.ofNat (List.length a) - (1 : ℤ); ((1 : ℤ) ≤ o1 + (1 : ℤ) → (((0 : ℤ) ≤ (0 : ℤ) ∧ (0 : ℤ) ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ (0 : ℤ) ∧ (0 : ℤ) ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ Int.ofNat (List.length a) ∧ List.length a ≤ List.length a) ∧ ¬(0 : ℤ) = Int.ofNat (List.length a) ∧ LCP.is_longest_common_prefix a (0 : ℤ) (Int.ofNat (List.length a)) (0 : ℤ)) ∧ (∀(j : ℤ) (k : ℤ) (l : ℤ), ((0 : ℤ) ≤ j ∧ j < k ∧ k < (1 : ℤ)) ∧ LCP.is_longest_common_prefix a ((SuffixArray.suffixes sa)[Int.toNat j]!) ((SuffixArray.suffixes sa)[Int.toNat k]!) l → l ≤ (0 : ℤ))) ∧ (∀(solStart2 : ℤ) (solLength : ℤ) (solStart : ℤ), (∀(i : ℤ), ((1 : ℤ) ≤ i ∧ i ≤ o1) ∧ ((0 : ℤ) ≤ solLength ∧ solLength ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ solStart ∧ solStart ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ solStart2 ∧ solStart2 ≤ Int.ofNat (List.length a)) ∧ ¬solStart = solStart2 ∧ LCP.is_longest_common_prefix a solStart solStart2 solLength) ∧ (∀(j : ℤ) (k : ℤ) (l : ℤ), ((0 : ℤ) ≤ j ∧ j < k ∧ k < i) ∧ LCP.is_longest_common_prefix a ((SuffixArray.suffixes sa)[Int.toNat j]!) ((SuffixArray.suffixes sa)[Int.toNat k]!) l → l ≤ solLength) → ((0 : ℤ) < i ∧ i < Int.ofNat (List.length (SuffixArray.values sa))) ∧ (∀(l : ℤ), LCP.is_longest_common_prefix (SuffixArray.values sa) ((SuffixArray.suffixes sa)[Int.toNat (i - (1 : ℤ))]!) ((SuffixArray.suffixes sa)[Int.toNat i]!) l → (if solLength < l then ((0 : ℤ) ≤ i ∧ i < Int.ofNat (List.length (SuffixArray.values sa))) ∧ (let o2 : ℤ := i - (1 : ℤ); ((0 : ℤ) ≤ o2 ∧ o2 < Int.ofNat (List.length (SuffixArray.values sa))) ∧ ((0 : ℤ) ≤ l ∧ l ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ (SuffixArray.suffixes sa)[Int.toNat i]! ∧ (SuffixArray.suffixes sa)[Int.toNat i]! ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ (SuffixArray.suffixes sa)[Int.toNat o2]! ∧ (SuffixArray.suffixes sa)[Int.toNat o2]! ≤ Int.ofNat (List.length a)) ∧ ¬(SuffixArray.suffixes sa)[Int.toNat i]! = (SuffixArray.suffixes sa)[Int.toNat o2]! ∧ LCP.is_longest_common_prefix a ((SuffixArray.suffixes sa)[Int.toNat i]!) ((SuffixArray.suffixes sa)[Int.toNat o2]!) l) ∧ (∀(j : ℤ) (k : ℤ) (l1 : ℤ), ((0 : ℤ) ≤ j ∧ j < k ∧ k < i + (1 : ℤ)) ∧ LCP.is_longest_common_prefix a ((SuffixArray.suffixes sa)[Int.toNat j]!) ((SuffixArray.suffixes sa)[Int.toNat k]!) l1 → l1 ≤ l)) else ((0 : ℤ) ≤ solLength ∧ solLength ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ solStart ∧ solStart ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ solStart2 ∧ solStart2 ≤ Int.ofNat (List.length a)) ∧ ¬solStart = solStart2 ∧ LCP.is_longest_common_prefix a solStart solStart2 solLength) ∧ (∀(j : ℤ) (k : ℤ) (l1 : ℤ), ((0 : ℤ) ≤ j ∧ j < k ∧ k < i + (1 : ℤ)) ∧ LCP.is_longest_common_prefix a ((SuffixArray.suffixes sa)[Int.toNat j]!) ((SuffixArray.suffixes sa)[Int.toNat k]!) l1 → l1 ≤ solLength)))) ∧ (((0 : ℤ) ≤ solLength ∧ solLength ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ solStart ∧ solStart ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ solStart2 ∧ solStart2 ≤ Int.ofNat (List.length a)) ∧ ¬solStart = solStart2 ∧ LCP.is_longest_common_prefix a solStart solStart2 solLength) ∧ (∀(j : ℤ) (k : ℤ) (l : ℤ), ((0 : ℤ) ≤ j ∧ j < k ∧ k < o1 + (1 : ℤ)) ∧ LCP.is_longest_common_prefix a ((SuffixArray.suffixes sa)[Int.toNat j]!) ((SuffixArray.suffixes sa)[Int.toNat k]!) l → l ≤ solLength) → ((0 : ℤ) ≤ solLength ∧ solLength ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ solStart ∧ solStart ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ solStart2 ∧ solStart2 ≤ Int.ofNat (List.length a)) ∧ ¬solStart = solStart2 ∧ LCP.is_longest_common_prefix a solStart solStart2 solLength) ∧ (∀(x : ℤ) (y : ℤ) (l : ℤ), ((0 : ℤ) ≤ x ∧ x < y ∧ y < Int.ofNat (List.length a)) ∧ LCP.is_longest_common_prefix a x y l → l ≤ solLength)))) ∧ (o1 + (1 : ℤ) < (1 : ℤ) → ((0 : ℤ) ≤ (0 : ℤ) ∧ (0 : ℤ) ≤ Int.ofNat (List.length a)) ∧ ((0 : ℤ) ≤ (0 : ℤ) ∧ (0 : ℤ) ≤ Int.ofNat (List.length a)) ∧ (((0 : ℤ) ≤ Int.ofNat (List.length a) ∧ List.length a ≤ List.length a) ∧ ¬(0 : ℤ) = Int.ofNat (List.length a) ∧ LCP.is_longest_common_prefix a (0 : ℤ) (Int.ofNat (List.length a)) (0 : ℤ)) ∧ (∀(x : ℤ) (y : ℤ) (l : ℤ), ((0 : ℤ) ≤ x ∧ x < y ∧ y < Int.ofNat (List.length a)) ∧ LCP.is_longest_common_prefix a x y l → l ≤ (0 : ℤ)))
  := sorry
end verifythis_fm2012_LRS_LRS_lrsqtvc
