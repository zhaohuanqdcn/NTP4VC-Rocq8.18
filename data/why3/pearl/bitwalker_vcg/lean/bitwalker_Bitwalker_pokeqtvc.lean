import Why3.Base
import Why3.why3.WellFounded.WellFounded
import Why3.why3.Ref.Ref
import Why3.mach.bv.BVCheck8
import Why3.mach.bv.BVCheck32
import Why3.mach.bv.BVCheck64
open Classical
open Lean4Why3
namespace bitwalker_Bitwalker_pokeqtvc
noncomputable def nth8_stream (stream : List (BitVec 8)) (pos : ℤ) := (stream[Int.toNat (pos / (8 : ℤ))]!)[Int.toNat ((7 : ℤ) - pos % (8 : ℤ))]!
noncomputable def maxvalue (len : BitVec 32) := (1 : BitVec 64) <<< BitVec.toNat (BitVec.zeroExtend 64 len)
theorem poke'vc (len : BitVec 32) (start : BitVec 32) (addr : List (BitVec 8)) (value : BitVec 64) (fact0 : BitVec.toUInt len < (64 : ℤ)) (fact1 : BitVec.toUInt start + BitVec.toUInt len < (4294967296 : ℤ)) (fact2 : (8 : ℤ) * Int.ofNat (List.length addr) < (4294967296 : ℤ)) : (BitVec.toUInt start + BitVec.toUInt len < (4294967296 : ℤ) ∨ BitVec.zeroExtend 128 start + BitVec.zeroExtend 128 len ≤ BitVec.zeroExtend 128 (4294967295 : BitVec 32)) ∧ (BitVec.toUInt (start + len) = BitVec.toUInt start + BitVec.toUInt len → (if (8 : ℤ) * Int.ofNat (List.length addr) < BitVec.toUInt (start + len) then (-(2 : ℤ) ≤ -(1 : ℤ) ∧ -(1 : ℤ) ≤ (0 : ℤ)) ∧ (8 : ℤ) * Int.ofNat (List.length addr) < BitVec.toUInt start + BitVec.toUInt len ∧ (-(1 : ℤ) = -(2 : ℤ)) = (BitVec.toUInt (maxvalue len) ≤ BitVec.toUInt value ∧ BitVec.toUInt start + BitVec.toUInt len ≤ (8 : ℤ) * Int.ofNat (List.length addr)) ∧ (-(1 : ℤ) = (0 : ℤ)) = (BitVec.toUInt value < BitVec.toUInt (maxvalue len) ∧ BitVec.toUInt start + BitVec.toUInt len ≤ (8 : ℤ) * Int.ofNat (List.length addr)) ∧ (-(1 : ℤ) = (0 : ℤ) → (∀(i : ℤ), BitVec.toUInt start ≤ i ∧ i < BitVec.toUInt start + BitVec.toUInt len → nth8_stream addr i = value[Int.toNat (BitVec.toUInt len - i - (1 : ℤ) + BitVec.toUInt start)]!)) else if value ≥ maxvalue len then (-(2 : ℤ) ≤ -(2 : ℤ) ∧ -(2 : ℤ) ≤ (0 : ℤ)) ∧ (-(2 : ℤ) = -(1 : ℤ)) = ((8 : ℤ) * Int.ofNat (List.length addr) < BitVec.toUInt start + BitVec.toUInt len) ∧ (BitVec.toUInt (maxvalue len) ≤ BitVec.toUInt value ∧ BitVec.toUInt start + BitVec.toUInt len ≤ (8 : ℤ) * Int.ofNat (List.length addr)) ∧ (-(2 : ℤ) = (0 : ℤ)) = (BitVec.toUInt value < BitVec.toUInt (maxvalue len) ∧ BitVec.toUInt start + BitVec.toUInt len ≤ (8 : ℤ) * Int.ofNat (List.length addr)) ∧ (-(2 : ℤ) = (0 : ℤ) → (∀(i : ℤ), BitVec.toUInt start ≤ i ∧ i < BitVec.toUInt start + BitVec.toUInt len → nth8_stream addr i = value[Int.toNat (BitVec.toUInt len - i - (1 : ℤ) + BitVec.toUInt start)]!)) else (BitVec.toUInt len ≤ (64 : ℤ) ∨ (64 : BitVec 32) ≥ len) ∧ (let lstart : BitVec 32 := (64 : BitVec 32) - len; BitVec.toUInt lstart = (64 : ℤ) - BitVec.toUInt len → (((0 : ℤ) ≤ (0 : ℤ) ∧ (0 : ℤ) ≤ BitVec.toUInt len) ∧ (∀(j : ℤ), BitVec.toUInt start ≤ j ∧ j < BitVec.toUInt start + (0 : ℤ) → nth8_stream addr j = value[Int.toNat (BitVec.toUInt len - j - (1 : ℤ) + BitVec.toUInt start)]!)) ∧ (∀(i : BitVec 32) (addr1 : List (BitVec 8)), List.length addr1 = List.length addr → ((0 : ℤ) ≤ BitVec.toUInt i ∧ BitVec.toUInt i ≤ BitVec.toUInt len) ∧ (∀(j : ℤ), (0 : ℤ) ≤ j ∧ j < BitVec.toUInt start → nth8_stream addr j = nth8_stream addr1 j) ∧ (∀(j : ℤ), BitVec.toUInt start ≤ j ∧ j < BitVec.toUInt start + BitVec.toUInt i → nth8_stream addr1 j = value[Int.toNat (BitVec.toUInt len - j - (1 : ℤ) + BitVec.toUInt start)]!) ∧ (∀(j : ℤ), BitVec.toUInt start + BitVec.toUInt i ≤ j ∧ j < (8 : ℤ) * Int.ofNat (List.length addr1) → nth8_stream addr1 j = nth8_stream addr j) → (if i < len then (BitVec.toUInt lstart + BitVec.toUInt i < (4294967296 : ℤ) ∨ BitVec.zeroExtend 128 lstart + BitVec.zeroExtend 128 i ≤ BitVec.zeroExtend 128 (4294967295 : BitVec 32)) ∧ (BitVec.toUInt (lstart + i) = BitVec.toUInt lstart + BitVec.toUInt i → BitVec.toUInt (lstart + i) < (64 : ℤ) ∧ (BitVec.toUInt start + BitVec.toUInt i < (4294967296 : ℤ) ∨ BitVec.zeroExtend 128 start + BitVec.zeroExtend 128 i ≤ BitVec.zeroExtend 128 (4294967295 : BitVec 32)) ∧ (BitVec.toUInt (start + i) = BitVec.toUInt start + BitVec.toUInt i → ((8 : ℤ) * Int.ofNat (List.length addr1) < (4294967296 : ℤ) ∧ BitVec.toUInt (start + i) < (8 : ℤ) * Int.ofNat (List.length addr1)) ∧ (∀(addr2 : List (BitVec 8)), List.length addr2 = List.length addr1 → (∀(i1 : ℤ), (0 : ℤ) ≤ i1 ∧ i1 < (8 : ℤ) * Int.ofNat (List.length addr2) → ¬i1 = BitVec.toUInt (start + i) → nth8_stream addr2 i1 = nth8_stream addr1 i1) ∧ nth8_stream addr2 (BitVec.toUInt (start + i)) = value[Int.toNat ((63 : ℤ) - BitVec.toUInt (lstart + i))]! → (BitVec.toUInt i + (1 : ℤ) < (4294967296 : ℤ) ∨ BitVec.zeroExtend 128 i + BitVec.zeroExtend 128 (1 : BitVec 32) ≤ BitVec.zeroExtend 128 (4294967295 : BitVec 32)) ∧ (BitVec.toUInt (i + (1 : BitVec 32)) = BitVec.toUInt i + (1 : ℤ) → ((0 : ℤ) ≤ BitVec.toUInt len - BitVec.toUInt i ∧ BitVec.toUInt len - BitVec.toUInt (i + (1 : BitVec 32)) < BitVec.toUInt len - BitVec.toUInt i) ∧ ((0 : ℤ) ≤ BitVec.toUInt (i + (1 : BitVec 32)) ∧ BitVec.toUInt (i + (1 : BitVec 32)) ≤ BitVec.toUInt len) ∧ (∀(j : ℤ), (0 : ℤ) ≤ j ∧ j < BitVec.toUInt start → nth8_stream addr j = nth8_stream addr2 j) ∧ (∀(j : ℤ), BitVec.toUInt start ≤ j ∧ j < BitVec.toUInt start + BitVec.toUInt (i + (1 : BitVec 32)) → nth8_stream addr2 j = value[Int.toNat (BitVec.toUInt len - j - (1 : ℤ) + BitVec.toUInt start)]!) ∧ (∀(j : ℤ), BitVec.toUInt start + BitVec.toUInt (i + (1 : BitVec 32)) ≤ j ∧ j < (8 : ℤ) * Int.ofNat (List.length addr2) → nth8_stream addr2 j = nth8_stream addr j))))) else (-(2 : ℤ) ≤ (0 : ℤ) ∧ (0 : ℤ) ≤ (0 : ℤ)) ∧ ((0 : ℤ) = -(1 : ℤ)) = ((8 : ℤ) * Int.ofNat (List.length addr1) < BitVec.toUInt start + BitVec.toUInt len) ∧ ((0 : ℤ) = -(2 : ℤ)) = (BitVec.toUInt (maxvalue len) ≤ BitVec.toUInt value ∧ BitVec.toUInt start + BitVec.toUInt len ≤ (8 : ℤ) * Int.ofNat (List.length addr1)) ∧ (BitVec.toUInt value < BitVec.toUInt (maxvalue len) ∧ BitVec.toUInt start + BitVec.toUInt len ≤ (8 : ℤ) * Int.ofNat (List.length addr1)) ∧ (∀(i1 : ℤ), (0 : ℤ) ≤ i1 ∧ i1 < BitVec.toUInt start → nth8_stream addr i1 = nth8_stream addr1 i1) ∧ (∀(i1 : ℤ), BitVec.toUInt start ≤ i1 ∧ i1 < BitVec.toUInt start + BitVec.toUInt len → nth8_stream addr1 i1 = value[Int.toNat (BitVec.toUInt len - i1 - (1 : ℤ) + BitVec.toUInt start)]!) ∧ (∀(i1 : ℤ), BitVec.toUInt start + BitVec.toUInt len ≤ i1 ∧ i1 < (8 : ℤ) * Int.ofNat (List.length addr1) → nth8_stream addr1 i1 = nth8_stream addr i1))))))
  := sorry
end bitwalker_Bitwalker_pokeqtvc
