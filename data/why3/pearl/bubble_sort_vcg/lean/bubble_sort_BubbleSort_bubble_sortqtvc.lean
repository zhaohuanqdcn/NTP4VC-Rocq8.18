import Why3.Base
import Why3.why3.Ref.Ref
import Why3.map.MapEq
import Why3.map.MapExchange
import Why3.map.MapPermut
import Why3.array.IntArraySorted
open Classical
open Lean4Why3
namespace bubble_sort_BubbleSort_bubble_sortqtvc
theorem bubble_sort'vc (a : List ℤ) : let o1 : ℤ := Int.ofNat (List.length a) - (1 : ℤ); ((1 : ℤ) - (1 : ℤ) ≤ o1 → (List.Perm a a ∧ IntArraySorted.sorted_sub1 a o1 (Int.ofNat (List.length a)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ o1 ∧ o1 < k2 ∧ k2 < Int.ofNat (List.length a) → a[Int.toNat k1]! ≤ a[Int.toNat k2]!)) ∧ (∀(a1 : List ℤ), List.length a1 = List.length a → (∀(i : ℤ), (i ≤ o1 ∧ (1 : ℤ) ≤ i) ∧ List.Perm a a1 ∧ IntArraySorted.sorted_sub1 a1 i (Int.ofNat (List.length a1)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i ∧ i < k2 ∧ k2 < Int.ofNat (List.length a1) → a1[Int.toNat k1]! ≤ a1[Int.toNat k2]!) → (let o2 : ℤ := i - (1 : ℤ); ((0 : ℤ) ≤ o2 + (1 : ℤ) → (List.Perm a a1 ∧ IntArraySorted.sorted_sub1 a1 i (Int.ofNat (List.length a1)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i ∧ i < k2 ∧ k2 < Int.ofNat (List.length a1) → a1[Int.toNat k1]! ≤ a1[Int.toNat k2]!) ∧ (∀(k : ℤ), (0 : ℤ) ≤ k ∧ k ≤ (0 : ℤ) → a1[Int.toNat k]! ≤ a1[(0 : ℕ)]!)) ∧ (∀(a2 : List ℤ), List.length a2 = List.length a1 → (∀(j : ℤ), ((0 : ℤ) ≤ j ∧ j ≤ o2) ∧ List.Perm a a2 ∧ IntArraySorted.sorted_sub1 a2 i (Int.ofNat (List.length a2)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i ∧ i < k2 ∧ k2 < Int.ofNat (List.length a2) → a2[Int.toNat k1]! ≤ a2[Int.toNat k2]!) ∧ (∀(k : ℤ), (0 : ℤ) ≤ k ∧ k ≤ j → a2[Int.toNat k]! ≤ a2[Int.toNat j]!) → (let o3 : ℤ := j + (1 : ℤ); ((0 : ℤ) ≤ o3 ∧ o3 < Int.ofNat (List.length a2)) ∧ ((0 : ℤ) ≤ j ∧ j < Int.ofNat (List.length a2)) ∧ (if a2[Int.toNat o3]! < a2[Int.toNat j]! then let o4 : ℤ := j + (1 : ℤ); (((0 : ℤ) ≤ j ∧ j < Int.ofNat (List.length a2)) ∧ (0 : ℤ) ≤ o4 ∧ o4 < Int.ofNat (List.length a2)) ∧ (∀(a3 : List ℤ), List.length a3 = List.length a2 → Lean4Why3.arrayExchange a2 a3 j o4 → List.Perm a a3 ∧ IntArraySorted.sorted_sub1 a3 i (Int.ofNat (List.length a3)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i ∧ i < k2 ∧ k2 < Int.ofNat (List.length a3) → a3[Int.toNat k1]! ≤ a3[Int.toNat k2]!) ∧ (∀(k : ℤ), (0 : ℤ) ≤ k ∧ k ≤ j + (1 : ℤ) → a3[Int.toNat k]! ≤ a3[Int.toNat (j + (1 : ℤ))]!)) else List.Perm a a2 ∧ IntArraySorted.sorted_sub1 a2 i (Int.ofNat (List.length a2)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i ∧ i < k2 ∧ k2 < Int.ofNat (List.length a2) → a2[Int.toNat k1]! ≤ a2[Int.toNat k2]!) ∧ (∀(k : ℤ), (0 : ℤ) ≤ k ∧ k ≤ j + (1 : ℤ) → a2[Int.toNat k]! ≤ a2[Int.toNat (j + (1 : ℤ))]!)))) ∧ (List.Perm a a2 ∧ IntArraySorted.sorted_sub1 a2 i (Int.ofNat (List.length a2)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i ∧ i < k2 ∧ k2 < Int.ofNat (List.length a2) → a2[Int.toNat k1]! ≤ a2[Int.toNat k2]!) ∧ (∀(k : ℤ), (0 : ℤ) ≤ k ∧ k ≤ o2 + (1 : ℤ) → a2[Int.toNat k]! ≤ a2[Int.toNat (o2 + (1 : ℤ))]!) → List.Perm a a2 ∧ IntArraySorted.sorted_sub1 a2 (i - (1 : ℤ)) (Int.ofNat (List.length a2)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i - (1 : ℤ) ∧ i - (1 : ℤ) < k2 ∧ k2 < Int.ofNat (List.length a2) → a2[Int.toNat k1]! ≤ a2[Int.toNat k2]!)))) ∧ (o2 + (1 : ℤ) < (0 : ℤ) → List.Perm a a1 ∧ IntArraySorted.sorted_sub1 a1 (i - (1 : ℤ)) (Int.ofNat (List.length a1)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ i - (1 : ℤ) ∧ i - (1 : ℤ) < k2 ∧ k2 < Int.ofNat (List.length a1) → a1[Int.toNat k1]! ≤ a1[Int.toNat k2]!)))) ∧ (List.Perm a a1 ∧ IntArraySorted.sorted_sub1 a1 ((1 : ℤ) - (1 : ℤ)) (Int.ofNat (List.length a1)) ∧ (∀(k1 : ℤ) (k2 : ℤ), (0 : ℤ) ≤ k1 ∧ k1 ≤ (1 : ℤ) - (1 : ℤ) ∧ (1 : ℤ) - (1 : ℤ) < k2 ∧ k2 < Int.ofNat (List.length a1) → a1[Int.toNat k1]! ≤ a1[Int.toNat k2]!) → List.Perm a a1 ∧ IntArraySorted.sorted a1))) ∧ (o1 < (1 : ℤ) - (1 : ℤ) → List.Perm a a ∧ IntArraySorted.sorted a)
  := sorry
end bubble_sort_BubbleSort_bubble_sortqtvc
