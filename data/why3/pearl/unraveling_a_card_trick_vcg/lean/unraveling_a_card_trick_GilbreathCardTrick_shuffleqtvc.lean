import Why3.Base
import pearl.unraveling_a_card_trick_vcg.lean.unraveling_a_card_trick.GilbreathCardTrickPure
import Why3.stack.Stack
open Classical
open Lean4Why3
namespace unraveling_a_card_trick_GilbreathCardTrick_shuffleqtvc
theorem shuffle'vc (c : Stack.t ℤ) (a' : Stack.t ℤ) (b' : Stack.t ℤ) (a : Stack.t ℤ) (b : Stack.t ℤ) (fact0 : Stack.elts c = ([] : List ℤ)) (fact1 : Stack.elts a' = ([] : List ℤ)) (fact2 : Stack.elts b' = ([] : List ℤ)) : List.reverse (Stack.elts a) = List.reverse (Stack.elts a) ++ Stack.elts a' ∧ List.reverse (Stack.elts b) = List.reverse (Stack.elts b) ++ Stack.elts b' ∧ GilbreathCardTrickPure.shuffle (Stack.elts a') (Stack.elts b') (Stack.elts c) ∧ (∀(b'1 : Stack.t ℤ) (a'1 : Stack.t ℤ) (c1 : Stack.t ℤ) (b1 : Stack.t ℤ) (a1 : Stack.t ℤ), List.reverse (Stack.elts a) = List.reverse (Stack.elts a1) ++ Stack.elts a'1 ∧ List.reverse (Stack.elts b) = List.reverse (Stack.elts b1) ++ Stack.elts b'1 ∧ GilbreathCardTrickPure.shuffle (Stack.elts a'1) (Stack.elts b'1) (Stack.elts c1) → (∀(o1 : Bool), (if Stack.elts a1 = ([] : List ℤ) then o1 = (if Stack.elts b1 = ([] : List ℤ) then true else false) else o1 = false) → (if ¬o1 = true then ∀(o2 : Bool), (if ¬Stack.elts a1 = ([] : List ℤ) then Stack.elts b1 = ([] : List ℤ) → o2 = true else o2 = false) → (if o2 = true then ¬Stack.elts a1 = ([] : List ℤ) ∧ (∀(o3 : ℤ), (match Stack.elts a1 with | ([] : List ℤ) => False | List.cons x _ => o3 = x) → (∀(a'2 : Stack.t ℤ), Stack.elts a'2 = List.cons o3 (Stack.elts a'1) → ¬Stack.elts a1 = ([] : List ℤ) ∧ (∀(a2 : Stack.t ℤ) (o4 : ℤ), (match Stack.elts a1 with | ([] : List ℤ) => False | List.cons x t => o4 = x ∧ Stack.elts a2 = t) → (∀(c2 : Stack.t ℤ), Stack.elts c2 = List.cons o4 (Stack.elts c1) → ((0 : ℤ) ≤ Stack.length a1 + Stack.length b1 ∧ Stack.length a2 + Stack.length b1 < Stack.length a1 + Stack.length b1) ∧ List.reverse (Stack.elts a) = List.reverse (Stack.elts a2) ++ Stack.elts a'2 ∧ List.reverse (Stack.elts b) = List.reverse (Stack.elts b1) ++ Stack.elts b'1 ∧ GilbreathCardTrickPure.shuffle (Stack.elts a'2) (Stack.elts b'1) (Stack.elts c2))))) else ¬Stack.elts b1 = ([] : List ℤ) ∧ (∀(o3 : ℤ), (match Stack.elts b1 with | ([] : List ℤ) => False | List.cons x _ => o3 = x) → (∀(b'2 : Stack.t ℤ), Stack.elts b'2 = List.cons o3 (Stack.elts b'1) → ¬Stack.elts b1 = ([] : List ℤ) ∧ (∀(b2 : Stack.t ℤ) (o4 : ℤ), (match Stack.elts b1 with | ([] : List ℤ) => False | List.cons x t => o4 = x ∧ Stack.elts b2 = t) → (∀(c2 : Stack.t ℤ), Stack.elts c2 = List.cons o4 (Stack.elts c1) → ((0 : ℤ) ≤ Stack.length a1 + Stack.length b1 ∧ Stack.length a1 + Stack.length b2 < Stack.length a1 + Stack.length b1) ∧ List.reverse (Stack.elts a) = List.reverse (Stack.elts a1) ++ Stack.elts a'1 ∧ List.reverse (Stack.elts b) = List.reverse (Stack.elts b2) ++ Stack.elts b'2 ∧ GilbreathCardTrickPure.shuffle (Stack.elts a'1) (Stack.elts b'2) (Stack.elts c2)))))) else Stack.elts a1 = ([] : List ℤ) ∧ Stack.elts b1 = ([] : List ℤ) ∧ GilbreathCardTrickPure.shuffle (List.reverse (Stack.elts a)) (List.reverse (Stack.elts b)) (Stack.elts c1))))
  := sorry
end unraveling_a_card_trick_GilbreathCardTrick_shuffleqtvc
