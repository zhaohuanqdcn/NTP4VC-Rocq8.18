From Stdlib Require Import Strings.String.
From Stdlib Require Import String Ascii.
From Stdlib Require Arith.
From stdpp Require Import base.
From stdpp Require Import fin_maps.
From stdpp Require Import gmap.
From stdpp Require Import base gmultiset.
From Stdlib Require Classical.
From Stdlib Require Import ZArith.
From stdpp.bitvector Require Import definitions tactics.
From Stdlib Require Import Sorting.Sorted.
From Stdlib Require Import Reals.Rbasic_fun.
From Stdlib Require Import Reals.Abstract.ConstructiveAbs.
From Stdlib Require Import Reals.Rdefinitions.
From stdpp Require Import list_relations.
From stdpp Require Import list_numbers.
From stdpp Require Import functions.
From Stdlib Require Import ClassicalEpsilon.
From stdpp Require Import base decidable.
From Stdlib Require Import ZArith.Zeuclid.
From Stdlib Require Import ZArith.Znumtheory.
From stdpp Require Import propset.
From Stdlib Require Import Reals.
Require Import Why3.Base.
Require Import Why3.why3.Ref.Ref.
Require Import Why3.map.Const.
Require Import Why3.map.MapEq.
Require Import Why3.real.Truncate.
Require Import Why3.mach.c.C.
Require Import Why3.mach.int.Unsigned.
Require Import multiprecision.types.Config.
Require Import multiprecision.types.Types.
Require Import multiprecision.types.Int32Eq.
Require Import multiprecision.types.UInt64Eq.
Require Import multiprecision.lemmas.Lemmas.
Require Import multiprecision.compare.Compare.
Require Import multiprecision.util.Util.
Require Import multiprecision.ptralias.Alias.
Require Import multiprecision.util.UtilOld.
Require Import multiprecision.add_1.Add_1.
Require Import multiprecision.add.Add.
Require Import multiprecision.add.AddOld.
Require Import multiprecision.sub_1.Sub_1.
Require Import multiprecision.sub.SubOld.
Require Import multiprecision.mul.Mul.
Require Import multiprecision.mul.Mul_basecase.
Require Import multiprecision.logical.LogicalUtil.
Require Import multiprecision.logical.Logical.
Require Import multiprecision.logical.LogicalOld.
Require Import multiprecision.div.Div.
Require Import multiprecision.sqrt.Sqrt1.
Require Import Why3.mach.fxp.Fxp.
Require Import multiprecision.toom.Toom.
Require Import multiprecision.valuation.Valuation.
Open Scope Z_scope.
Theorem wmpn_dc_sqrtrem'vc (np : ptr (bv 64%N)) (n : bv 32%N) (sp : ptr (bv 64%N)) (scratch : ptr (bv 64%N)) (o1 : bool) (fact0 : valid np (bv_signed n + bv_signed n)) (fact1 : valid sp (bv_signed n)) (fact2 : 1%Z ≤ bv_signed n) (fact3 : valid scratch (1%Z + ZEuclid.div (bv_signed n) 2%Z)) (fact4 : Z.pow 2%Z (64%Z - 2%Z) ≤ bv_unsigned (pelts np (offset np + bv_signed n + bv_signed n - 1%Z))) (fact5 : writable sp = true) (fact6 : writable scratch = true) (fact7 : writable np = true) (fact8 : 4%Z * bv_signed n < 2147483647%Z) (fact9 : bv_signed n = bv_signed (1%bv : bv 32%N) -> o1 = true) (fact10 : o1 = true -> n = (1%bv : bv 32%N)) : if decide (o1 = true) then (valid scratch 1%Z ∧ valid sp 1%Z ∧ valid np 2%Z ∧ Z.pow 2%Z (64%Z - 2%Z) ≤ bv_unsigned (pelts np (offset np + 1%Z)) ∧ writable sp = true ∧ writable scratch = true) ∧ (∀(scratch1 : ptr (bv 64%N)) (sp1 : ptr (bv 64%N)), length (data scratch1) = length (data scratch) ∧ offset scratch1 = offset scratch ∧ min scratch1 = min scratch ∧ C.max scratch1 = C.max scratch ∧ writable scratch1 = writable scratch ∧ zone1 scratch1 = zone1 scratch -> length (data sp1) = length (data sp) ∧ offset sp1 = offset sp ∧ min sp1 = min sp ∧ C.max sp1 = C.max sp ∧ writable sp1 = writable sp ∧ zone1 sp1 = zone1 sp -> (∀(r : bv 64%N), value np 2%Z = bv_unsigned (pelts sp1 (offset sp1)) * bv_unsigned (pelts sp1 (offset sp1)) + bv_unsigned r * (18446744073709551615%Z + 1%Z) + bv_unsigned (pelts scratch1 (offset scratch1)) ∧ bv_unsigned (pelts scratch1 (offset scratch1)) + bv_unsigned r * (18446744073709551615%Z + 1%Z) ≤ 2%Z * bv_unsigned (pelts sp1 (offset sp1)) ∧ 0%Z ≤ bv_unsigned r ∧ bv_unsigned r ≤ 1%Z -> (min scratch1 ≤ offset scratch1 ∧ offset scratch1 < C.max scratch1) ∧ ((min np ≤ offset np ∧ offset np < C.max np) ∧ writable np = true) ∧ (∀(np1 : ptr (bv 64%N)), length (data np1) = length (data np) ∧ offset np1 = offset np ∧ min np1 = min np ∧ C.max np1 = C.max np ∧ writable np1 = writable np ∧ zone1 np1 = zone1 np -> pelts np1 = fun_updt (pelts np) (offset np1) (pelts scratch1 (offset scratch1)) -> value sp1 (bv_signed n) * value sp1 (bv_signed n) + value np1 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned r = value np (bv_signed n + bv_signed n) ∧ value np1 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned r ≤ 2%Z * value sp1 (bv_signed n) ∧ Z.pow 2%Z (64%Z - 1%Z) ≤ bv_unsigned (pelts sp1 (offset sp1 + bv_signed n - 1%Z)) ∧ (0%Z ≤ bv_unsigned r ∧ bv_unsigned r ≤ 1%Z) ∧ C.max np1 = C.max np ∧ min np1 = min np ∧ plength np1 = plength np ∧ C.max scratch1 = C.max scratch ∧ min scratch1 = min scratch ∧ plength scratch1 = plength scratch ∧ C.max sp1 = C.max sp ∧ min sp1 = min sp ∧ plength sp1 = plength sp))) else (¬ 2%Z = 0%Z ∧ int'32_in_bounds (Z.rem (bv_signed n) 2%Z)) ∧ (∀(l : bv 32%N), bv_signed l = Z.rem (bv_signed n) 2%Z -> int'32_in_bounds (bv_signed n - bv_signed l) ∧ (∀(h : bv 32%N), bv_signed h = bv_signed n - bv_signed l -> (let vn : Z := value np (bv_signed n + bv_signed n) in int'32_in_bounds (bv_signed l + bv_signed l) ∧ (∀(o2 : bv 32%N), bv_signed o2 = bv_signed l + bv_signed l -> (0%Z ≤ bv_signed o2 ∧ (min np ≤ offset np + bv_signed o2 ∧ offset np + bv_signed o2 ≤ C.max np) ∧ writable np = true) ∧ (∀(np1 : ptr (bv 64%N)), offset np1 = offset np ∧ min np1 = min np ∧ writable np1 = writable np ∧ zone1 np1 = zone1 np -> (∀(np' : ptr (bv 64%N)), writable np' = true ∧ offset np' = offset np1 + bv_signed o2 ∧ C.max np1 = offset np1 + bv_signed o2 ∧ min np' = offset np1 + bv_signed o2 ∧ C.max np' = C.max np ∧ zone1 np' = zone1 np1 ∧ pelts np1 = pelts np ∧ plength np1 = plength np ∧ pelts np' = pelts np ∧ plength np' = plength np -> (let n0 : Z := value np1 (bv_signed l) in let n1 : Z := value_sub (pelts np1) (offset np1 + bv_signed l) (offset np1 + bv_signed l + bv_signed l) in Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n + bv_signed n) ≤ 4%Z * vn ∧ (Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n + bv_signed n) ≤ 4%Z * vn -> (0%Z ≤ bv_signed l ∧ (min sp ≤ offset sp + bv_signed l ∧ offset sp + bv_signed l ≤ C.max sp) ∧ writable sp = true) ∧ (∀(sp1 : ptr (bv 64%N)), offset sp1 = offset sp ∧ min sp1 = min sp ∧ writable sp1 = writable sp ∧ zone1 sp1 = zone1 sp -> (∀(spl : ptr (bv 64%N)), writable spl = true ∧ offset spl = offset sp1 + bv_signed l ∧ C.max sp1 = offset sp1 + bv_signed l ∧ min spl = offset sp1 + bv_signed l ∧ C.max spl = C.max sp ∧ zone1 spl = zone1 sp1 ∧ pelts sp1 = pelts sp ∧ plength sp1 = plength sp ∧ pelts spl = pelts sp ∧ plength spl = plength sp -> (bv_signed h < bv_signed n ∧ valid np' (bv_signed h + bv_signed h) ∧ valid spl (bv_signed h) ∧ 1%Z ≤ bv_signed h ∧ valid scratch (1%Z + ZEuclid.div (bv_signed h) 2%Z) ∧ Z.pow 2%Z (64%Z - 2%Z) ≤ bv_unsigned (pelts np' (offset np' + bv_signed h + bv_signed h - 1%Z)) ∧ (writable spl = true ∧ writable scratch = true ∧ writable np' = true) ∧ 4%Z * bv_signed h < 2147483647%Z) ∧ (∀(spl1 : ptr (bv 64%N)) (np'1 : ptr (bv 64%N)) (scratch1 : ptr (bv 64%N)), offset spl1 = offset spl ∧ writable spl1 = writable spl ∧ zone1 spl1 = zone1 spl -> offset np'1 = offset np' ∧ min np'1 = min np' ∧ writable np'1 = writable np' ∧ zone1 np'1 = zone1 np' -> offset scratch1 = offset scratch ∧ writable scratch1 = writable scratch ∧ zone1 scratch1 = zone1 scratch -> (∀(o3 : bv 64%N), value spl1 (bv_signed h) * value spl1 (bv_signed h) + value np'1 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_unsigned o3 = value np' (bv_signed h + bv_signed h) ∧ value np'1 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_unsigned o3 ≤ 2%Z * value spl1 (bv_signed h) ∧ Z.pow 2%Z (64%Z - 1%Z) ≤ bv_unsigned (pelts spl1 (offset spl1 + bv_signed h - 1%Z)) ∧ (0%Z ≤ bv_unsigned o3 ∧ bv_unsigned o3 ≤ 1%Z) ∧ C.max np'1 = C.max np' ∧ min np'1 = min np' ∧ plength np'1 = plength np' ∧ C.max scratch1 = C.max scratch ∧ min scratch1 = min scratch ∧ plength scratch1 = plength scratch ∧ C.max spl1 = C.max spl ∧ min spl1 = min spl ∧ plength spl1 = plength spl -> Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) ≤ 2%Z * value spl1 (bv_signed h) ∧ (Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) ≤ 2%Z * value spl1 (bv_signed h) -> (let r' : Z := value np'1 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_unsigned o3 in (∀(o4 : bool), (bv_unsigned o3 = bv_unsigned (0%bv : bv 64%N) -> o4 = true) ∧ (o4 = true -> o3 = (0%bv : bv 64%N)) -> (if decide (¬ o4 = true) then (0%Z ≤ bv_signed h ∧ valid np'1 (bv_signed h) ∧ valid spl1 (bv_signed h) ∧ writable np'1 = true) ∧ (∀(np'2 : ptr (bv 64%N)), length (data np'2) = length (data np'1) ∧ offset np'2 = offset np'1 ∧ min np'2 = min np'1 ∧ C.max np'2 = C.max np'1 ∧ writable np'2 = writable np'1 ∧ zone1 np'2 = zone1 np'1 -> (∀(b : bv 64%N), value np'2 (bv_signed h) - Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_unsigned b = value np'1 (bv_signed h) - value spl1 (bv_signed h) ∧ (0%Z ≤ bv_unsigned b ∧ bv_unsigned b ≤ 1%Z) ∧ (∀(j : Z), j < offset np'2 ∨ offset np'2 + bv_signed h ≤ j -> pelts np'2 j = pelts np'1 j) -> bv_unsigned o3 = 1%Z ∧ value np'2 (bv_signed h) = r' - value spl1 (bv_signed h) ∨ bv_unsigned o3 = 0%Z ∧ value np'2 (bv_signed h) = r')) else bv_unsigned o3 = 1%Z ∧ value np'1 (bv_signed h) = r' - value spl1 (bv_signed h) ∨ bv_unsigned o3 = 0%Z ∧ value np'1 (bv_signed h) = r')) ∧ (∀(np'2 : ptr (bv 64%N)), length (data np'2) = length (data np'1) ∧ offset np'2 = offset np'1 ∧ min np'2 = min np'1 ∧ C.max np'2 = C.max np'1 ∧ writable np'2 = writable np'1 ∧ zone1 np'2 = zone1 np'1 -> bv_unsigned o3 = 1%Z ∧ value np'2 (bv_signed h) = r' - value spl1 (bv_signed h) ∨ bv_unsigned o3 = 0%Z ∧ value np'2 (bv_signed h) = r' -> (zone1 np1 = zone1 np'2 ∧ C.max np1 = min np'2 ∧ writable np1 = true ∧ writable np'2 = true) ∧ (∀(np2 : ptr (bv 64%N)), length (data np2) = length (data np1) ∧ offset np2 = offset np1 ∧ min np2 = min np1 ∧ writable np2 = writable np1 ∧ zone1 np2 = zone1 np1 -> C.max np2 = C.max np'2 ∧ plength np2 = plength np1 ∧ (∀(i : Z), min np1 ≤ i ∧ i < C.max np1 -> pelts np2 i = pelts np1 i) ∧ (∀(i : Z), min np'2 ≤ i ∧ i < C.max np'2 -> pelts np2 i = pelts np'2 i) -> (0%Z ≤ bv_signed l ∧ (min np2 ≤ offset np2 + bv_signed l ∧ offset np2 + bv_signed l ≤ C.max np2) ∧ writable np2 = true) ∧ (∀(np3 : ptr (bv 64%N)), offset np3 = offset np2 ∧ min np3 = min np2 ∧ writable np3 = writable np2 ∧ zone1 np3 = zone1 np2 -> (∀(npl : ptr (bv 64%N)), writable npl = true ∧ offset npl = offset np3 + bv_signed l ∧ C.max np3 = offset np3 + bv_signed l ∧ min npl = offset np3 + bv_signed l ∧ C.max npl = C.max np2 ∧ zone1 npl = zone1 np3 ∧ pelts np3 = pelts np2 ∧ plength np3 = plength np2 ∧ pelts npl = pelts np2 ∧ plength npl = plength np2 -> ((1%Z ≤ bv_signed h ∧ bv_signed h ≤ bv_signed n ∧ bv_signed n ≤ 2147483647%Z - 1%Z) ∧ valid npl (bv_signed n) ∧ valid spl1 (bv_signed h) ∧ valid scratch1 (bv_signed n - bv_signed h + 1%Z) ∧ (writable npl = true ∧ writable scratch1 = true) ∧ 0%Z < bv_unsigned (pelts spl1 (offset spl1 + bv_signed h - 1%Z))) ∧ (∀(npl1 : ptr (bv 64%N)) (scratch2 : ptr (bv 64%N)), length (data npl1) = length (data npl) ∧ offset npl1 = offset npl ∧ min npl1 = min npl ∧ C.max npl1 = C.max npl ∧ writable npl1 = writable npl ∧ zone1 npl1 = zone1 npl -> length (data scratch2) = length (data scratch1) ∧ offset scratch2 = offset scratch1 ∧ min scratch2 = min scratch1 ∧ C.max scratch2 = C.max scratch1 ∧ writable scratch2 = writable scratch1 ∧ zone1 scratch2 = zone1 scratch1 -> value npl (bv_signed n) = value scratch2 (bv_signed n - bv_signed h + 1%Z) * value spl1 (bv_signed h) + value npl1 (bv_signed h) ∧ value npl1 (bv_signed h) < value spl1 (bv_signed h) -> (min scratch2 ≤ offset scratch2 + bv_signed l ∧ offset scratch2 + bv_signed l < C.max scratch2) ∧ (let sl : bv 64%N := pelts scratch2 (offset scratch2 + bv_signed l) in uint'64_in_bounds (bv_unsigned o3 + bv_unsigned sl) ∧ (∀(o4 : bv 64%N), bv_unsigned o4 = bv_unsigned o3 + bv_unsigned sl -> (min scratch2 ≤ offset scratch2 ∧ offset scratch2 < C.max scratch2) ∧ (let sh : bv 64%N := pelts scratch2 (offset scratch2) in (¬ 2%Z = 0%Z ∧ uint'64_in_bounds (Z.quot (bv_unsigned sh) 2%Z)) ∧ (∀(o5 : bv 64%N), bv_unsigned o5 = Z.quot (bv_unsigned sh) 2%Z -> bv_unsigned o5 ≤ 9223372036854775807%Z ∧ (∀(o6 : bv 64%N), bv_signed o6 = bv_unsigned o5 -> (valid scratch2 (bv_signed l) ∧ valid sp1 (bv_signed l) ∧ (0%Z < 1%Z ∧ 1%Z < 64%Z) ∧ 0%Z < bv_signed l ∧ writable sp1 = true) ∧ (∀(scratch3 : ptr (bv 64%N)) (sp2 : ptr (bv 64%N)), offset scratch3 = offset scratch2 ∧ writable scratch3 = writable scratch2 ∧ zone1 scratch3 = zone1 scratch2 -> offset sp2 = offset sp1 ∧ writable sp2 = writable sp1 ∧ zone1 sp2 = zone1 sp1 -> (∀(r : bv 64%N), bv_unsigned r + (18446744073709551615%Z + 1%Z) * value sp2 (bv_signed l) = value scratch3 (bv_signed l) * Z.pow 2%Z (64%Z - 1%Z) ∧ (∀(j : Z), j < offset sp2 ∨ offset sp2 + bv_signed l ≤ j -> pelts sp2 j = pelts sp1 j) ∧ pelts scratch3 = pelts scratch2 ∧ (min scratch3 = min scratch2 ∧ C.max scratch3 = C.max scratch2 ∧ plength scratch3 = plength scratch2) ∧ min sp2 = min sp1 ∧ C.max sp2 = C.max sp1 ∧ plength sp2 = plength sp1 -> int'32_in_bounds (bv_signed l - 1%Z) ∧ (∀(o7 : bv 32%N), bv_signed o7 = bv_signed l - 1%Z -> (min sp2 ≤ offset sp2 + bv_signed o7 ∧ offset sp2 + bv_signed o7 < C.max sp2) ∧ (let st : bv 64%N := pelts sp2 (offset sp2 + bv_signed o7) in uint'64_in_bounds 64%Z ∧ (∀(o8 : bv 64%N), bv_unsigned o8 = 64%Z -> uint'64_in_bounds (bv_unsigned o8 - 1%Z) ∧ (∀(o9 : bv 64%N), bv_unsigned o9 = bv_unsigned o8 - 1%Z -> (0%Z ≤ bv_unsigned o9 ∧ bv_unsigned o9 < 64%Z) ∧ (∀(ql : bv 64%N), bv_unsigned ql = ZEuclid.modulo (bv_unsigned o4 * Z.pow 2%Z (bv_unsigned o9)) (18446744073709551615%Z + 1%Z) ∧ bv_unsigned ql ≤ 18446744073709551615%Z + 1%Z - Z.pow 2%Z (bv_unsigned o9) -> (0%Z ≤ 1%Z ∧ 1%Z < 64%Z) ∧ (∀(qh : bv 64%N), bv_unsigned qh = ZEuclid.div (bv_unsigned o4) (Z.pow 2%Z 1%Z) -> uint'64_in_bounds (bv_unsigned st + bv_unsigned ql) ∧ (∀(o10 : bv 64%N), bv_unsigned o10 = bv_unsigned st + bv_unsigned ql -> int'32_in_bounds (bv_signed l - 1%Z) ∧ (∀(o11 : bv 32%N), bv_signed o11 = bv_signed l - 1%Z -> ((min sp2 ≤ offset sp2 + bv_signed o11 ∧ offset sp2 + bv_signed o11 < C.max sp2) ∧ writable sp2 = true) ∧ (∀(sp3 : ptr (bv 64%N)), length (data sp3) = length (data sp2) ∧ offset sp3 = offset sp2 ∧ min sp3 = min sp2 ∧ C.max sp3 = C.max sp2 ∧ writable sp3 = writable sp2 ∧ zone1 sp3 = zone1 sp2 -> pelts sp3 = fun_updt (pelts sp2) (offset sp3 + bv_signed o11) o10 ∧ pelts sp3 (offset sp3 + bv_signed o11) = o10 -> ((bv_signed o6 = 0%Z -> o6 = (0%bv : bv 64%N)) -> (if decide (¬ o6 = (0%bv : bv 64%N)) then (valid npl1 (bv_signed h) ∧ valid spl1 (bv_signed h) ∧ writable npl1 = true) ∧ (∀(npl2 : ptr (bv 64%N)), length (data npl2) = length (data npl1) ∧ offset npl2 = offset npl1 ∧ min npl2 = min npl1 ∧ C.max npl2 = C.max npl1 ∧ writable npl2 = writable npl1 ∧ zone1 npl2 = zone1 npl1 -> (∀(c' : bv 64%N), (0%Z ≤ bv_unsigned c' ∧ bv_unsigned c' ≤ 1%Z) ∧ value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_unsigned c' = value npl1 (bv_signed h) + value spl1 (bv_signed h) ∧ (∀(j : Z), j < offset npl2 ∨ offset npl2 + bv_signed h ≤ j -> pelts npl2 j = pelts npl1 j) -> bv_unsigned c' ≤ 9223372036854775807%Z ∧ (∀(o12 : bv 64%N), bv_signed o12 = bv_unsigned c' -> n1 + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * r' = 2%Z * value spl1 (bv_signed h) * (value sp3 (bv_signed l) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * bv_unsigned qh) + value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed o12 ∧ (0%Z ≤ bv_signed o12 ∧ bv_signed o12 ≤ 1%Z) ∧ 0%Z ≤ value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed o12 ∧ value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed o12 < 2%Z * value spl1 (bv_signed h)))) else n1 + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * r' = 2%Z * value spl1 (bv_signed h) * (value sp3 (bv_signed l) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * bv_unsigned qh) + value npl1 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed o6 ∧ (0%Z ≤ bv_signed o6 ∧ bv_signed o6 ≤ 1%Z) ∧ 0%Z ≤ value npl1 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed o6 ∧ value npl1 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed o6 < 2%Z * value spl1 (bv_signed h))) ∧ (∀(c : bv 64%N) (npl2 : ptr (bv 64%N)), length (data npl2) = length (data npl1) ∧ offset npl2 = offset npl1 ∧ min npl2 = min npl1 ∧ C.max npl2 = C.max npl1 ∧ writable npl2 = writable npl1 ∧ zone1 npl2 = zone1 npl1 -> n1 + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * r' = 2%Z * value spl1 (bv_signed h) * (value sp3 (bv_signed l) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * bv_unsigned qh) + value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed c ∧ (0%Z ≤ bv_signed c ∧ bv_signed c ≤ 1%Z) ∧ 0%Z ≤ value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed c ∧ value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed c < 2%Z * value spl1 (bv_signed h) -> (let dq : Z := value sp3 (bv_signed l) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * bv_unsigned qh in let r'' : Z := value npl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_signed c in (zone1 np3 = zone1 npl2 ∧ C.max np3 = min npl2 ∧ writable np3 = true ∧ writable npl2 = true) ∧ (∀(np4 : ptr (bv 64%N)), length (data np4) = length (data np3) ∧ offset np4 = offset np3 ∧ min np4 = min np3 ∧ writable np4 = writable np3 ∧ zone1 np4 = zone1 np3 -> C.max np4 = C.max npl2 ∧ plength np4 = plength np3 ∧ (∀(i : Z), min np3 ≤ i ∧ i < C.max np3 -> pelts np4 i = pelts np3 i) ∧ (∀(i : Z), min npl2 ≤ i ∧ i < C.max npl2 -> pelts np4 i = pelts npl2 i) -> (0%Z ≤ bv_signed n ∧ (min np4 ≤ offset np4 + bv_signed n ∧ offset np4 + bv_signed n ≤ C.max np4) ∧ writable np4 = true) ∧ (∀(np5 : ptr (bv 64%N)), offset np5 = offset np4 ∧ min np5 = min np4 ∧ writable np5 = writable np4 ∧ zone1 np5 = zone1 np4 -> (∀(npn : ptr (bv 64%N)), writable npn = true ∧ offset npn = offset np5 + bv_signed n ∧ C.max np5 = offset np5 + bv_signed n ∧ min npn = offset np5 + bv_signed n ∧ C.max npn = C.max np4 ∧ zone1 npn = zone1 np5 ∧ pelts np5 = pelts np4 ∧ plength np5 = plength np4 ∧ pelts npn = pelts np4 ∧ plength npn = plength np4 -> (valid sp3 (bv_signed l) ∧ valid sp3 (bv_signed l) ∧ valid npn (bv_signed l + bv_signed l) ∧ writable npn = true ∧ (0%Z < bv_signed l ∧ bv_signed l ≤ bv_signed l) ∧ 8%Z * bv_signed l < 2147483647%Z ∧ bv_signed l ≤ bv_signed (29%bv : bv 32%N) * Z.pow 2%Z 64%Z ∧ 0%Z ≤ 64%Z ∧ 64%Z ≤ 64%Z) ∧ (∀(npn1 : ptr (bv 64%N)), offset npn1 = offset npn ∧ writable npn1 = writable npn ∧ zone1 npn1 = zone1 npn -> min npn1 = min npn ∧ C.max npn1 = C.max npn ∧ plength npn1 = plength npn ∧ value npn1 (bv_signed l + bv_signed l) = value sp3 (bv_signed l) * value sp3 (bv_signed l) ∧ (∀(j : Z), min npn1 ≤ j ∧ j < offset npn1 ∨ offset npn1 + bv_signed l + bv_signed l ≤ j ∧ j < C.max npn1 -> pelts npn1 j = pelts npn j) -> int'32_in_bounds (2%Z * bv_signed l) ∧ (∀(ll : bv 32%N), bv_signed ll = 2%Z * bv_signed l -> (0%Z ≤ bv_signed ll ∧ valid np5 (bv_signed ll) ∧ valid npn1 (bv_signed ll) ∧ writable np5 = true) ∧ (∀(np6 : ptr (bv 64%N)), length (data np6) = length (data np5) ∧ offset np6 = offset np5 ∧ min np6 = min np5 ∧ C.max np6 = C.max np5 ∧ writable np6 = writable np5 ∧ zone1 np6 = zone1 np5 -> (∀(bo : bv 64%N), value np6 (bv_signed ll) - Z.pow (18446744073709551615%Z + 1%Z) (bv_signed ll) * bv_unsigned bo = value np5 (bv_signed ll) - value npn1 (bv_signed ll) ∧ (0%Z ≤ bv_unsigned bo ∧ bv_unsigned bo ≤ 1%Z) ∧ (∀(j : Z), j < offset np6 ∨ offset np6 + bv_signed ll ≤ j -> pelts np6 j = pelts np5 j) -> uint'64_in_bounds (bv_unsigned qh + bv_unsigned bo) ∧ (∀(b : bv 64%N), bv_unsigned b = bv_unsigned qh + bv_unsigned bo -> (∀(o12 : bool), (bv_signed l = bv_signed h -> o12 = true) ∧ (o12 = true -> l = h) -> (if decide (o12 = true) then bv_unsigned b ≤ 9223372036854775807%Z ∧ (∀(o13 : bv 64%N), bv_signed o13 = bv_unsigned b -> int'64_in_bounds (bv_signed c - bv_signed o13) ∧ (∀(o14 : bv 64%N), bv_signed o14 = bv_signed c - bv_signed o13 -> value np6 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_signed o14 = n0 + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * r'' - dq * dq ∧ - 1%Z ≤ bv_signed o14 ∧ bv_signed o14 ≤ 1%Z)) else (min np6 ≤ offset np6 + bv_signed ll ∧ offset np6 + bv_signed ll ≤ C.max np6) ∧ (∀(nll : ptr (bv 64%N)), offset nll = offset np6 + bv_signed ll ∧ plength nll = plength np6 ∧ pelts nll = pelts np6 ∧ data nll = data np6 ∧ min nll = min np6 ∧ C.max nll = C.max np6 ∧ zone1 nll = zone1 np6 ∧ writable nll = writable np6 -> (valid nll 1%Z ∧ 0%Z < 1%Z ∧ writable nll = true) ∧ (∀(nll1 : ptr (bv 64%N)) (np7 : ptr (bv 64%N)), data nll1 = data np7 ∧ length (data np7) = length (data nll) ∧ offset nll1 = offset nll ∧ min nll1 = min nll ∧ C.max nll1 = C.max nll ∧ writable nll1 = writable nll ∧ zone1 nll1 = zone1 nll -> length (data np7) = length (data np6) ∧ offset np7 = offset np6 ∧ min np7 = min np6 ∧ C.max np7 = C.max np6 ∧ writable np7 = writable np6 ∧ zone1 np7 = zone1 np6 -> (∀(bo1 : bv 64%N), value nll1 1%Z - Z.pow (18446744073709551615%Z + 1%Z) 1%Z * bv_unsigned bo1 = value nll 1%Z - bv_unsigned b ∧ (0%Z ≤ bv_unsigned bo1 ∧ bv_unsigned bo1 ≤ 1%Z) ∧ (∀(j : Z), j < offset nll1 ∨ offset nll1 + 1%Z ≤ j -> pelts nll1 j = pelts nll j) -> bv_unsigned bo1 ≤ 9223372036854775807%Z ∧ (∀(o13 : bv 64%N), bv_signed o13 = bv_unsigned bo1 -> int'64_in_bounds (bv_signed c - bv_signed o13) ∧ (∀(o14 : bv 64%N), bv_signed o14 = bv_signed c - bv_signed o13 -> value np7 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_signed o14 = n0 + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * r'' - dq * dq ∧ - 1%Z ≤ bv_signed o14 ∧ bv_signed o14 ≤ 1%Z))))))) ∧ (∀(c1 : bv 64%N) (np7 : ptr (bv 64%N)), length (data np7) = length (data np6) ∧ offset np7 = offset np6 ∧ min np7 = min np6 ∧ C.max np7 = C.max np6 ∧ writable np7 = writable np6 ∧ zone1 np7 = zone1 np6 -> value np7 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_signed c1 = n0 + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed l) * r'' - dq * dq ∧ - 1%Z ≤ bv_signed c1 ∧ bv_signed c1 ≤ 1%Z -> (if decide (bv_signed c1 < 0%Z) then (valid spl1 (bv_signed h) ∧ 0%Z < bv_signed h ∧ writable spl1 = true) ∧ (∀(spl2 : ptr (bv 64%N)), length (data spl2) = length (data spl1) ∧ offset spl2 = offset spl1 ∧ min spl2 = min spl1 ∧ C.max spl2 = C.max spl1 ∧ writable spl2 = writable spl1 ∧ zone1 spl2 = zone1 spl1 -> (∀(o12 : bv 64%N), value spl2 (bv_signed h) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed h) * bv_unsigned o12 = value spl1 (bv_signed h) + bv_unsigned qh ∧ (0%Z ≤ bv_unsigned o12 ∧ bv_unsigned o12 ≤ 1%Z) ∧ (∀(j : Z), j < offset spl2 ∨ offset spl2 + bv_signed h ≤ j -> pelts spl2 j = pelts spl1 j) -> (zone1 sp3 = zone1 spl2 ∧ C.max sp3 = min spl2 ∧ writable sp3 = true ∧ writable spl2 = true) ∧ (∀(sp4 : ptr (bv 64%N)), length (data sp4) = length (data sp3) ∧ offset sp4 = offset sp3 ∧ min sp4 = min sp3 ∧ writable sp4 = writable sp3 ∧ zone1 sp4 = zone1 sp3 -> C.max sp4 = C.max spl2 ∧ plength sp4 = plength sp3 ∧ (∀(i : Z), min sp3 ≤ i ∧ i < C.max sp3 -> pelts sp4 i = pelts sp3 i) ∧ (∀(i : Z), min spl2 ≤ i ∧ i < C.max spl2 -> pelts sp4 i = pelts spl2 i) -> (valid sp4 (bv_signed n) ∧ valid np7 (bv_signed n) ∧ writable np7 = true) ∧ (∀(np8 : ptr (bv 64%N)), length (data np8) = length (data np7) ∧ offset np8 = offset np7 ∧ min np8 = min np7 ∧ C.max np8 = C.max np7 ∧ writable np8 = writable np7 ∧ zone1 np8 = zone1 np7 -> (∀(c' : bv 64%N), value np8 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned c' = value np7 (bv_signed n) + value sp4 (bv_signed n) * 2%Z ∧ (∀(j : Z), j < offset np8 ∨ offset np8 + bv_signed n ≤ j -> pelts np8 j = pelts np7 j) -> uint'64_in_bounds (2%Z * bv_unsigned o12) ∧ (∀(o13 : bv 64%N), bv_unsigned o13 = 2%Z * bv_unsigned o12 -> uint'64_in_bounds (bv_unsigned o13 + bv_unsigned c') ∧ (∀(o14 : bv 64%N), bv_unsigned o14 = bv_unsigned o13 + bv_unsigned c' -> bv_unsigned o14 ≤ 9223372036854775807%Z ∧ (∀(o15 : bv 64%N), bv_signed o15 = bv_unsigned o14 -> int'64_in_bounds (bv_signed c1 + bv_signed o15) ∧ (∀(o16 : bv 64%N), bv_signed o16 = bv_signed c1 + bv_signed o15 -> (valid np8 (bv_signed n) ∧ 0%Z < bv_signed n ∧ writable np8 = true) ∧ (∀(np9 : ptr (bv 64%N)), length (data np9) = length (data np8) ∧ offset np9 = offset np8 ∧ min np9 = min np8 ∧ C.max np9 = C.max np8 ∧ writable np9 = writable np8 ∧ zone1 np9 = zone1 np8 -> (∀(o17 : bv 64%N), value np9 (bv_signed n) - Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned o17 = value np8 (bv_signed n) - 1%Z ∧ (0%Z ≤ bv_unsigned o17 ∧ bv_unsigned o17 ≤ 1%Z) ∧ (∀(j : Z), j < offset np9 ∨ offset np9 + bv_signed n ≤ j -> pelts np9 j = pelts np8 j) -> bv_unsigned o17 ≤ 9223372036854775807%Z ∧ (∀(o18 : bv 64%N), bv_signed o18 = bv_unsigned o17 -> int'64_in_bounds (bv_signed o16 - bv_signed o18) ∧ (∀(o19 : bv 64%N), bv_signed o19 = bv_signed o16 - bv_signed o18 -> (valid sp4 (bv_signed n) ∧ 0%Z < bv_signed n ∧ writable sp4 = true) ∧ (∀(sp5 : ptr (bv 64%N)), length (data sp5) = length (data sp4) ∧ offset sp5 = offset sp4 ∧ min sp5 = min sp4 ∧ C.max sp5 = C.max sp4 ∧ writable sp5 = writable sp4 ∧ zone1 sp5 = zone1 sp4 -> (∀(bo1 : bv 64%N), value sp5 (bv_signed n) - Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned bo1 = value sp4 (bv_signed n) - 1%Z ∧ (0%Z ≤ bv_unsigned bo1 ∧ bv_unsigned bo1 ≤ 1%Z) ∧ (∀(j : Z), j < offset sp5 ∨ offset sp5 + bv_signed n ≤ j -> pelts sp5 j = pelts sp4 j) -> uint'64_in_bounds (bv_unsigned o12 - bv_unsigned bo1) ∧ (∀(o20 : bv 64%N), bv_unsigned o20 = bv_unsigned o12 - bv_unsigned bo1 -> (zone1 np9 = zone1 npn1 ∧ C.max np9 = min npn1 ∧ writable np9 = true ∧ writable npn1 = true) ∧ (∀(np10 : ptr (bv 64%N)), length (data np10) = length (data np9) ∧ offset np10 = offset np9 ∧ min np10 = min np9 ∧ writable np10 = writable np9 ∧ zone1 np10 = zone1 np9 -> C.max np10 = C.max npn1 ∧ plength np10 = plength np9 ∧ (∀(i : Z), min np9 ≤ i ∧ i < C.max np9 -> pelts np10 i = pelts np9 i) ∧ (∀(i : Z), min npn1 ≤ i ∧ i < C.max npn1 -> pelts np10 i = pelts npn1 i) -> 0%Z ≤ bv_signed o19 ∧ (∀(result : bv 64%N), bv_unsigned result = bv_signed o19 -> value sp5 (bv_signed n) * value sp5 (bv_signed n) + value np10 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned result = value np (bv_signed n + bv_signed n) ∧ value np10 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned result ≤ 2%Z * value sp5 (bv_signed n) ∧ Z.pow 2%Z (64%Z - 1%Z) ≤ bv_unsigned (pelts sp5 (offset sp5 + bv_signed n - 1%Z)) ∧ (0%Z ≤ bv_unsigned result ∧ bv_unsigned result ≤ 1%Z) ∧ C.max np10 = C.max np ∧ min np10 = min np ∧ plength np10 = plength np ∧ C.max scratch3 = C.max scratch ∧ min scratch3 = min scratch ∧ plength scratch3 = plength scratch ∧ C.max sp5 = C.max sp ∧ min sp5 = min sp ∧ plength sp5 = plength sp)))))))))))))))))) else (zone1 sp3 = zone1 spl1 ∧ C.max sp3 = min spl1 ∧ writable sp3 = true ∧ writable spl1 = true) ∧ (∀(sp4 : ptr (bv 64%N)), length (data sp4) = length (data sp3) ∧ offset sp4 = offset sp3 ∧ min sp4 = min sp3 ∧ writable sp4 = writable sp3 ∧ zone1 sp4 = zone1 sp3 -> C.max sp4 = C.max spl1 ∧ plength sp4 = plength sp3 ∧ (∀(i : Z), min sp3 ≤ i ∧ i < C.max sp3 -> pelts sp4 i = pelts sp3 i) ∧ (∀(i : Z), min spl1 ≤ i ∧ i < C.max spl1 -> pelts sp4 i = pelts spl1 i) -> (zone1 np7 = zone1 npn1 ∧ C.max np7 = min npn1 ∧ writable np7 = true ∧ writable npn1 = true) ∧ (∀(np8 : ptr (bv 64%N)), length (data np8) = length (data np7) ∧ offset np8 = offset np7 ∧ min np8 = min np7 ∧ writable np8 = writable np7 ∧ zone1 np8 = zone1 np7 -> C.max np8 = C.max npn1 ∧ plength np8 = plength np7 ∧ (∀(i : Z), min np7 ≤ i ∧ i < C.max np7 -> pelts np8 i = pelts np7 i) ∧ (∀(i : Z), min npn1 ≤ i ∧ i < C.max npn1 -> pelts np8 i = pelts npn1 i) -> 0%Z ≤ bv_signed c1 ∧ (∀(result : bv 64%N), bv_unsigned result = bv_signed c1 -> value sp4 (bv_signed n) * value sp4 (bv_signed n) + value np8 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned result = value np (bv_signed n + bv_signed n) ∧ value np8 (bv_signed n) + Z.pow (18446744073709551615%Z + 1%Z) (bv_signed n) * bv_unsigned result ≤ 2%Z * value sp4 (bv_signed n) ∧ Z.pow 2%Z (64%Z - 1%Z) ≤ bv_unsigned (pelts sp4 (offset sp4 + bv_signed n - 1%Z)) ∧ (0%Z ≤ bv_unsigned result ∧ bv_unsigned result ≤ 1%Z) ∧ C.max np8 = C.max np ∧ min np8 = min np ∧ plength np8 = plength np ∧ C.max scratch3 = C.max scratch ∧ min scratch3 = min scratch ∧ plength scratch3 = plength scratch ∧ C.max sp4 = C.max sp ∧ min sp4 = min sp ∧ plength sp4 = plength sp)))))))))))))))))))))))))))))))))))))))))))))))))).
Admitted.
