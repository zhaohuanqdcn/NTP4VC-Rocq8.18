theory binary_search_vc_sp_BinarySearchInt32_binary_searchqtvc
  imports "NTP4Verif.NTP4Verif" "Why3STD.Ref_Ref"
begin
theorem binary_search'vc:
  fixes a :: "32 word array32"
  fixes v :: "32 word"
  assumes fact0: "\<forall>(i1 :: int) (i2 :: int). (0 :: int) \<le> i1 \<and> i1 \<le> i2 \<and> i2 < sint (array32_length a) \<longrightarrow> sint (array32_elts a i1) \<le> sint (array32_elts a i2)"
  shows "let o1 :: 32 word = array32_length a in int'32_in_bounds (sint o1 - (1 :: int)) \<and> (\<forall>(o2 :: 32 word). sint o2 = sint o1 - (1 :: int) \<longrightarrow> (((0 :: int) \<le> (0 :: int) \<and> sint o2 < sint (array32_length a)) \<and> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < sint (array32_length a) \<longrightarrow> array32_elts a i = v \<longrightarrow> (0 :: int) \<le> i \<and> i \<le> sint o2)) \<and> (\<forall>(l :: 32 word) (u :: 32 word). ((0 :: int) \<le> sint l \<and> sint u < sint (array32_length a)) \<and> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < sint (array32_length a) \<longrightarrow> array32_elts a i = v \<longrightarrow> sint l \<le> i \<and> i \<le> sint u) \<longrightarrow> sint l \<le> sint u \<longrightarrow> (int'32_in_bounds (sint u - sint l) \<and> (\<forall>(o3 :: 32 word). sint o3 = sint u - sint l \<longrightarrow> (\<not>(2 :: int) = (0 :: int) \<and> int'32_in_bounds (sint o3 cdiv (2 :: int))) \<and> (\<forall>(o4 :: 32 word). sint o4 = sint o3 cdiv (2 :: int) \<longrightarrow> int'32_in_bounds (sint l + sint o4) \<and> (\<forall>(m :: 32 word). sint m = sint l + sint o4 \<longrightarrow> ((0 :: int) \<le> sint m \<and> sint m < sint (array32_length a)) \<and> (if sint (array32_elts a (sint m)) < sint v then int'32_in_bounds (sint m + (1 :: int)) else ((0 :: int) \<le> sint m \<and> sint m < sint (array32_length a)) \<and> (sint v < sint (array32_elts a (sint m)) \<longrightarrow> int'32_in_bounds (sint m - (1 :: int)))))))) \<and> (\<forall>(l1 :: 32 word) (u1 :: 32 word). (\<exists>(o3 :: 32 word). sint o3 = sint u - sint l \<and> (\<exists>(o4 :: 32 word). sint o4 = sint o3 cdiv (2 :: int) \<and> (\<exists>(m :: 32 word). sint m = sint l + sint o4 \<and> (if sint (array32_elts a (sint m)) < sint v then sint l1 = sint m + (1 :: int) \<and> u1 = u else (sint v < sint (array32_elts a (sint m)) \<and> sint u1 = sint m - (1 :: int)) \<and> l1 = l)))) \<longrightarrow> ((0 :: int) \<le> sint u - sint l \<and> sint u1 - sint l1 < sint u - sint l) \<and> ((0 :: int) \<le> sint l1 \<and> sint u1 < sint (array32_length a)) \<and> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < sint (array32_length a) \<longrightarrow> array32_elts a i = v \<longrightarrow> sint l1 \<le> i \<and> i \<le> sint u1))))"
  and "(\<exists>(o1 :: 32 word). sint o1 = sint (array32_length a) - (1 :: int) \<and> (\<exists>(l :: 32 word) (u :: 32 word). (((0 :: int) \<le> sint l \<and> sint u < sint (array32_length a)) \<and> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < sint (array32_length a) \<longrightarrow> array32_elts a i = v \<longrightarrow> sint l \<le> i \<and> i \<le> sint u)) \<and> \<not>sint l \<le> sint u)) \<longrightarrow> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < sint (array32_length a) \<longrightarrow> \<not>array32_elts a i = v)"
  and "\<forall>(r :: 32 word). (\<exists>(o1 :: 32 word). sint o1 = sint (array32_length a) - (1 :: int) \<and> (\<exists>(l :: 32 word) (u :: 32 word). (((0 :: int) \<le> sint l \<and> sint u < sint (array32_length a)) \<and> (\<forall>(i :: int). (0 :: int) \<le> i \<and> i < sint (array32_length a) \<longrightarrow> array32_elts a i = v \<longrightarrow> sint l \<le> i \<and> i \<le> sint u)) \<and> sint l \<le> sint u \<and> (\<exists>(o2 :: 32 word). sint o2 = sint u - sint l \<and> (\<exists>(o3 :: 32 word). sint o3 = sint o2 cdiv (2 :: int) \<and> sint r = sint l + sint o3 \<and> \<not>sint (array32_elts a (sint r)) < sint v \<and> \<not>sint v < sint (array32_elts a (sint r)))))) \<longrightarrow> ((0 :: int) \<le> sint r \<and> sint r < sint (array32_length a)) \<and> array32_elts a (sint r) = v"
  sorry
end
