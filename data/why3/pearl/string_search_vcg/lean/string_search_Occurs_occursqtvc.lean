import Why3.Base
import pearl.string_search_vcg.lean.string_search.Spec
open Classical
open Lean4Why3
namespace string_search_Occurs_occursqtvc
theorem occurs'vc (p : BitVec 63) (text : List (BitVec 8)) (pat : List (BitVec 8)) (n : BitVec 63) (m : BitVec 63) (fact0 : (0 : ℤ) ≤ BitVec.toInt p) (fact1 : BitVec.toInt p ≤ Int.ofNat (List.length text) - Int.ofNat (List.length pat)) (fact2 : BitVec.toInt n = Int.ofNat (List.length text)) (fact3 : (0 : ℤ) ≤ Int.ofNat (List.length text)) (fact4 : BitVec.toInt m = Int.ofNat (List.length pat)) (fact5 : (0 : ℤ) ≤ Int.ofNat (List.length pat)) : int'63_in_bounds (BitVec.toInt m - (1 : ℤ)) ∧ (∀(o1 : BitVec 63), BitVec.toInt o1 = BitVec.toInt m - (1 : ℤ) → ((0 : ℤ) ≤ BitVec.toInt o1 + (1 : ℤ) → List.drop (Int.toNat (BitVec.toInt p)) (List.take ((0 : ℕ) - Int.toNat (BitVec.toInt p)) text) = List.drop (0 : ℕ) (List.take ((0 : ℕ) - (0 : ℕ)) pat) ∧ (∀(i : BitVec 63), let i1 : ℤ := BitVec.toInt i; ((0 : ℤ) ≤ i1 ∧ i1 ≤ BitVec.toInt o1) ∧ List.drop (Int.toNat (BitVec.toInt p)) (List.take (Int.toNat i1 - Int.toNat (BitVec.toInt p)) text) = List.drop (0 : ℕ) (List.take (Int.toNat i1 - (0 : ℕ)) pat) → ((0 : ℤ) ≤ BitVec.toInt i ∧ BitVec.toInt i < Int.ofNat (List.length pat)) ∧ int'63_in_bounds (BitVec.toInt p + BitVec.toInt i) ∧ (∀(o2 : BitVec 63), BitVec.toInt o2 = BitVec.toInt p + BitVec.toInt i → ((0 : ℤ) ≤ BitVec.toInt o2 ∧ BitVec.toInt o2 < Int.ofNat (List.length text)) ∧ (if ¬text[Int.toNat (BitVec.toInt o2)]! = pat[Int.toNat (BitVec.toInt i)]! then ¬Spec.matches1 pat text (BitVec.toInt p) else List.drop (Int.toNat (BitVec.toInt p)) (List.take (Int.toNat (i1 + (1 : ℤ)) - Int.toNat (BitVec.toInt p)) text) = List.drop (0 : ℕ) (List.take (Int.toNat (i1 + (1 : ℤ)) - (0 : ℕ)) pat)))) ∧ (List.drop (Int.toNat (BitVec.toInt p)) (List.take (Int.toNat (BitVec.toInt o1 + (1 : ℤ)) - Int.toNat (BitVec.toInt p)) text) = List.drop (0 : ℕ) (List.take (Int.toNat (BitVec.toInt o1 + (1 : ℤ)) - (0 : ℕ)) pat) → Spec.matches1 pat text (BitVec.toInt p))) ∧ (BitVec.toInt o1 + (1 : ℤ) < (0 : ℤ) → Spec.matches1 pat text (BitVec.toInt p)))
  := sorry
end string_search_Occurs_occursqtvc
