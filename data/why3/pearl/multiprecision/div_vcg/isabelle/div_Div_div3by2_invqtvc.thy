theory div_Div_div3by2_invqtvc
  imports "NTP4Verif.NTP4Verif" "Why3STD.Ref_Ref" "Why3STD.map_Const" "Why3STD.map_MapEq" "mach.int_Unsigned" "mach.c_C" "../../lib/isabelle/types_Config" "../../lib/isabelle/types_Types" "../../lib/isabelle/types_Int32Eq" "../../lib/isabelle/types_UInt64Eq" "../../lib/isabelle/lemmas_Lemmas" "../../lib/isabelle/compare_Compare" "../../lib/isabelle/ptralias_Alias" "../../lib/isabelle/util_UtilOld" "../../lib/isabelle/add_AddOld" "../../lib/isabelle/sub_SubOld" "../../lib/isabelle/logical_LogicalUtil" "../../lib/isabelle/logical_LogicalOld"
begin
definition reciprocal :: "64 word \<Rightarrow> 64 word \<Rightarrow> _"
  where "reciprocal v d \<longleftrightarrow> uint v = (((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) - (1 :: int)) ediv uint d - ((18446744073709551615 :: int) + (1 :: int))" for v d
definition reciprocal_3by2 :: "64 word \<Rightarrow> 64 word \<Rightarrow> 64 word \<Rightarrow> _"
  where "reciprocal_3by2 v dh dl \<longleftrightarrow> uint v = (((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) - (1 :: int)) ediv (uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint dh) - ((18446744073709551615 :: int) + (1 :: int))" for v dh dl
theorem div3by2_inv'vc:
  fixes dh :: "64 word"
  fixes v :: "64 word"
  fixes dl :: "64 word"
  fixes um :: "64 word"
  fixes uh :: "64 word"
  fixes l :: "64 word"
  fixes h :: "64 word"
  fixes ul :: "64 word"
  assumes fact0: "((18446744073709551615 :: int) + (1 :: int)) ediv (2 :: int) \<le> uint dh"
  assumes fact1: "reciprocal_3by2 v dh dl"
  assumes fact2: "uint um + ((18446744073709551615 :: int) + (1 :: int)) * uint uh < uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint dh"
  assumes fact3: "uint l + ((18446744073709551615 :: int) + (1 :: int)) * uint h = uint v * uint uh"
  shows "(0 :: int) \<le> (0 :: int)"
  and "(0 :: int) \<le> (1 :: int)"
  and "\<forall>(sl :: 64 word) (c :: 64 word). uint sl + ((18446744073709551615 :: int) + (1 :: int)) * uint c = uint um + uint l + (0 :: int) \<and> (0 :: int) \<le> uint c \<and> uint c \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> uint c \<and> uint c \<le> (1 :: int)) \<and> (\<forall>(sh :: 64 word) (c' :: 64 word). uint sh + ((18446744073709551615 :: int) + (1 :: int)) * uint c' = uint uh + uint h + uint c \<and> (0 :: int) \<le> uint c' \<and> uint c' \<le> (1 :: int) \<longrightarrow> (\<forall>(o1 :: 64 word). uint o1 = (uint sh + (1 :: int)) emod ((18446744073709551615 :: int) + (1 :: int)) \<longrightarrow> (\<forall>(p :: 64 word). uint p = uint dh * uint sh emod ((18446744073709551615 :: int) + (1 :: int)) \<longrightarrow> (\<forall>(o2 :: 64 word). uint o2 = (uint um - uint p) emod ((18446744073709551615 :: int) + (1 :: int)) \<longrightarrow> \<not>(18446744073709551615 :: int) + (1 :: int) = (0 :: int) \<and> (\<forall>(tl :: 64 word) (th :: 64 word). uint tl + ((18446744073709551615 :: int) + (1 :: int)) * uint th = uint sh * uint dl \<longrightarrow> ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) \<le> (1 :: int)) \<and> (\<forall>(il :: 64 word) (b :: 64 word). uint il - ((18446744073709551615 :: int) + (1 :: int)) * uint b = uint ul - uint tl - (0 :: int) \<and> (0 :: int) \<le> uint b \<and> uint b \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> uint b \<and> uint b \<le> (1 :: int)) \<and> (\<forall>(ih :: 64 word) (b' :: 64 word). uint ih - ((18446744073709551615 :: int) + (1 :: int)) * uint b' = uint o2 - uint th - uint b \<and> (0 :: int) \<le> uint b' \<and> uint b' \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) \<le> (1 :: int)) \<and> (\<forall>(bl :: 64 word) (b2 :: 64 word). uint bl - ((18446744073709551615 :: int) + (1 :: int)) * uint b2 = uint il - uint dl - (0 :: int) \<and> (0 :: int) \<le> uint b2 \<and> uint b2 \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> uint b2 \<and> uint b2 \<le> (1 :: int)) \<and> (\<forall>(bh :: 64 word) (b2' :: 64 word). uint bh - ((18446744073709551615 :: int) + (1 :: int)) * uint b2' = uint ih - uint dh - uint b2 \<and> (0 :: int) \<le> uint b2' \<and> uint b2' \<le> (1 :: int) \<longrightarrow> (if uint sl \<le> uint bh then \<forall>(o3 :: 64 word). uint o3 = (uint o1 - (1 :: int)) emod ((18446744073709551615 :: int) + (1 :: int)) \<longrightarrow> ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) \<le> (1 :: int)) \<and> (\<forall>(rl :: 64 word) (c1 :: 64 word). uint rl + ((18446744073709551615 :: int) + (1 :: int)) * uint c1 = uint bl + uint dl + (0 :: int) \<and> (0 :: int) \<le> uint c1 \<and> uint c1 \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> uint c1 \<and> uint c1 \<le> (1 :: int)) \<and> (\<forall>(rh :: 64 word) (c'1 :: 64 word). uint rh + ((18446744073709551615 :: int) + (1 :: int)) * uint c'1 = uint bh + uint dh + uint c1 \<and> (0 :: int) \<le> uint c'1 \<and> uint c'1 \<le> (1 :: int) \<longrightarrow> (\<forall>(o4 :: bool). (if uint dh < uint rh then o4 = True else \<exists>(o5 :: bool). ((uint rh = uint dh \<longrightarrow> o5 = True) \<and> (o5 = True \<longrightarrow> rh = dh)) \<and> o4 = (if o5 = True then if uint dl \<le> uint rl then True else False else False)) \<longrightarrow> (if o4 = True then ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) \<le> (1 :: int)) \<and> (\<forall>(bl1 :: 64 word) (b1 :: 64 word). uint bl1 - ((18446744073709551615 :: int) + (1 :: int)) * uint b1 = uint rl - uint dl - (0 :: int) \<and> (0 :: int) \<le> uint b1 \<and> uint b1 \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> uint b1 \<and> uint b1 \<le> (1 :: int)) \<and> (\<forall>(bh1 :: 64 word) (b'1 :: 64 word). uint bh1 - ((18446744073709551615 :: int) + (1 :: int)) * uint b'1 = uint rh - uint dh - uint b1 \<and> (0 :: int) \<le> uint b'1 \<and> uint b'1 \<le> (1 :: int) \<longrightarrow> (\<forall>(o5 :: 64 word). uint o5 = (uint o3 + (1 :: int)) emod ((18446744073709551615 :: int) + (1 :: int)) \<longrightarrow> uint o5 * uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint o5 * uint dh + uint bl1 + ((18446744073709551615 :: int) + (1 :: int)) * uint bh1 = uint ul + ((18446744073709551615 :: int) + (1 :: int)) * uint um + ((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) * uint uh \<and> (0 :: int) \<le> uint bl1 + ((18446744073709551615 :: int) + (1 :: int)) * uint bh1 \<and> uint bl1 + ((18446744073709551615 :: int) + (1 :: int)) * uint bh1 < uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint dh))) else uint o3 * uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint o3 * uint dh + uint rl + ((18446744073709551615 :: int) + (1 :: int)) * uint rh = uint ul + ((18446744073709551615 :: int) + (1 :: int)) * uint um + ((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) * uint uh \<and> (0 :: int) \<le> uint rl + ((18446744073709551615 :: int) + (1 :: int)) * uint rh \<and> uint rl + ((18446744073709551615 :: int) + (1 :: int)) * uint rh < uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint dh)))) else \<forall>(o3 :: bool). (if uint dh < uint bh then o3 = True else \<exists>(o4 :: bool). ((uint bh = uint dh \<longrightarrow> o4 = True) \<and> (o4 = True \<longrightarrow> bh = dh)) \<and> o3 = (if o4 = True then if uint dl \<le> uint bl then True else False else False)) \<longrightarrow> (if o3 = True then ((0 :: int) \<le> (0 :: int) \<and> (0 :: int) \<le> (1 :: int)) \<and> (\<forall>(bl1 :: 64 word) (b3 :: 64 word). uint bl1 - ((18446744073709551615 :: int) + (1 :: int)) * uint b3 = uint bl - uint dl - (0 :: int) \<and> (0 :: int) \<le> uint b3 \<and> uint b3 \<le> (1 :: int) \<longrightarrow> ((0 :: int) \<le> uint b3 \<and> uint b3 \<le> (1 :: int)) \<and> (\<forall>(bh1 :: 64 word) (b'1 :: 64 word). uint bh1 - ((18446744073709551615 :: int) + (1 :: int)) * uint b'1 = uint bh - uint dh - uint b3 \<and> (0 :: int) \<le> uint b'1 \<and> uint b'1 \<le> (1 :: int) \<longrightarrow> (\<forall>(o4 :: 64 word). uint o4 = (uint o1 + (1 :: int)) emod ((18446744073709551615 :: int) + (1 :: int)) \<longrightarrow> uint o4 * uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint o4 * uint dh + uint bl1 + ((18446744073709551615 :: int) + (1 :: int)) * uint bh1 = uint ul + ((18446744073709551615 :: int) + (1 :: int)) * uint um + ((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) * uint uh \<and> (0 :: int) \<le> uint bl1 + ((18446744073709551615 :: int) + (1 :: int)) * uint bh1 \<and> uint bl1 + ((18446744073709551615 :: int) + (1 :: int)) * uint bh1 < uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint dh))) else uint o1 * uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint o1 * uint dh + uint bl + ((18446744073709551615 :: int) + (1 :: int)) * uint bh = uint ul + ((18446744073709551615 :: int) + (1 :: int)) * uint um + ((18446744073709551615 :: int) + (1 :: int)) * ((18446744073709551615 :: int) + (1 :: int)) * uint uh \<and> (0 :: int) \<le> uint bl + ((18446744073709551615 :: int) + (1 :: int)) * uint bh \<and> uint bl + ((18446744073709551615 :: int) + (1 :: int)) * uint bh < uint dl + ((18446744073709551615 :: int) + (1 :: int)) * uint dh)))))))))))"
  sorry
end
